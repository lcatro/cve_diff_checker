From 894937d7927eab0c98457656cbd6fb414b3a6fbf Mon Sep 17 00:00:00 2001
From: Ravinder Kumar <ravinder.kumar.apj@gmail.com>
Date: Thu, 11 Jul 2019 17:58:17 +0530
Subject: [PATCH] fix: allow orderby only for whitelist columns

---
 includes/donors/class-give-donors-query.php | 1 +
 1 file changed, 1 insertion(+)

diff --git a/includes/donors/class-give-donors-query.php b/includes/donors/class-give-donors-query.php
index ed8347bada..ab8ce7e9df 100644
--- a/includes/donors/class-give-donors-query.php
+++ b/includes/donors/class-give-donors-query.php
@@ -466,6 +466,7 @@ private function get_order_query() {
 		foreach ( $ordersby as $orderby => $order ) {
 			if( ! array_key_exists( $orderby, $table_columns ) ) {
 				unset( $ordersby[$orderby] );
+				continue;
 			}
 
 			$ordersby[ esc_sql( $orderby ) ] = esc_sql( $order );
