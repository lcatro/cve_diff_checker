From 7e063aed70f947a92bb43a4471e0c4e650fe8f7f Mon Sep 17 00:00:00 2001
From: Pavel Savinov <pavel.savinov@liferay.com>
Date: Tue, 3 Sep 2019 08:01:30 +0200
Subject: [PATCH] LPS-100758 Escape journal article title to avoid potential
 XSS

---
 .../main/resources/META-INF/resources/journal_article/page.jsp  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/modules/apps/journal/journal-taglib/src/main/resources/META-INF/resources/journal_article/page.jsp b/modules/apps/journal/journal-taglib/src/main/resources/META-INF/resources/journal_article/page.jsp
index e024e7f55d799b..aa7b79d2fe700e 100644
--- a/modules/apps/journal/journal-taglib/src/main/resources/META-INF/resources/journal_article/page.jsp
+++ b/modules/apps/journal/journal-taglib/src/main/resources/META-INF/resources/journal_article/page.jsp
@@ -26,7 +26,7 @@ String wrapperCssClass = (String)request.getAttribute("liferay-journal:journal-a
 
 <div class="journal-content-article <%= Validator.isNotNull(wrapperCssClass) ? wrapperCssClass : StringPool.BLANK %>" data-analytics-asset-id="<%= articleDisplay.getArticleId() %>" data-analytics-asset-title="<%= HtmlUtil.escapeAttribute(articleDisplay.getTitle()) %>" data-analytics-asset-type="web-content">
 	<c:if test="<%= showTitle %>">
-		<%= articleDisplay.getTitle() %>
+		<%= HtmlUtil.escape(articleDisplay.getTitle()) %>
 	</c:if>
 
 	<%= articleDisplay.getContent() %>
