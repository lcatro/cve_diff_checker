From af50add82433eb2a740c3621b99d9d14d2b1e192 Mon Sep 17 00:00:00 2001
From: mokaddem <sami.mokaddem@circl.lu>
Date: Thu, 29 Jul 2021 13:44:53 +0200
Subject: [PATCH] fix: [security] Stored XSS when viewing galaxy cluster
 relationships - As reported by Dawid Czarnecki

---
 app/View/Elements/GalaxyClusters/view_relation_tree.ctp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/app/View/Elements/GalaxyClusters/view_relation_tree.ctp b/app/View/Elements/GalaxyClusters/view_relation_tree.ctp
index b9b7e5c33a..93f4d206df 100644
--- a/app/View/Elements/GalaxyClusters/view_relation_tree.ctp
+++ b/app/View/Elements/GalaxyClusters/view_relation_tree.ctp
@@ -299,7 +299,7 @@ $randomClass = "relation-{$random}";
             .attr("class", "well well-small")
             .style('padding', '4px 9px')
             .style('white-space', 'nowrap')
-            .html(function(d) { return d.Relation.referenced_galaxy_cluster_type; })
+            .text(function(d) { return d.Relation.referenced_galaxy_cluster_type; })
             
         paddingX = 8;
         gEnter.append("foreignObject")
@@ -319,7 +319,7 @@ $randomClass = "relation-{$random}";
                             .style('background-color', tag.colour)
                             .style('color', getTextColour(tag.colour))
                             .style('display', 'inline')
-                            .html(tag.name)
+                            .text(tag.name)
                     });
                 }
             });
