From 36e3be99cfe8a9e09afa1b75fdc39f3e28f561fc Mon Sep 17 00:00:00 2001
From: Martin Gruner <martin.gruner@otrs.com>
Date: Thu, 7 Dec 2017 13:12:13 +0100
Subject: [PATCH] Improved parameter appending.

---
 Kernel/Output/HTML/Layout/Template.pm | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/Kernel/Output/HTML/Layout/Template.pm b/Kernel/Output/HTML/Layout/Template.pm
index a6f2edaacdf..4bb5f254cc0 100644
--- a/Kernel/Output/HTML/Layout/Template.pm
+++ b/Kernel/Output/HTML/Layout/Template.pm
@@ -220,7 +220,7 @@ sub Output {
             my $Target  = $2;
             my $End     = $3;
             my $RealEnd = $4;
-            if ( lc $Target =~ /^(http:|https:|#|ftp:)/ ||
+            if ( lc($Target) =~ /^(http:|https:|#|ftp:)/ ||
                 $Target !~ /\.(pl|php|cgi|fcg|fcgi|fpl)(\?|$)/ ||
                 $Target =~ /(\?|&|;)\Q$Self->{SessionName}\E=/) {
                 $AHref.$Target.$End.$RealEnd;
@@ -238,7 +238,7 @@ sub Output {
             my $AHref = $1;
             my $Target = $2;
             my $End = $3;
-            if (lc $Target =~ m{^http s? :}smx || !$Self->{SessionID} ||
+            if (lc($Target) =~ m{^http s? :}smx || !$Self->{SessionID} ||
                 $Target !~ /\.(pl|php|cgi|fcg|fcgi|fpl)(\?|$)/ ||
                 $Target =~ /\Q$Self->{SessionName}\E=/) {
                 $AHref.$Target.$End;
