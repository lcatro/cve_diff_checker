From d6b2f8b8c5098938bc094726a4826479ddbee941 Mon Sep 17 00:00:00 2001
From: Thomas Gerbet <thomas.gerbet@enalean.com>
Date: Mon, 20 Jul 2020 10:11:59 +0200
Subject: [PATCH] request #15131: SQL injection in the planning edition panel

Change-Id: Ifa9971534640010198196f34544f97eb8c7cc9c9
---
 .../include/OnTop/ColumnMappingFieldValueDao.class.php        | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/plugins/cardwall/include/OnTop/ColumnMappingFieldValueDao.class.php b/plugins/cardwall/include/OnTop/ColumnMappingFieldValueDao.class.php
index 14393b6d799..961eb2fce5c 100644
--- a/plugins/cardwall/include/OnTop/ColumnMappingFieldValueDao.class.php
+++ b/plugins/cardwall/include/OnTop/ColumnMappingFieldValueDao.class.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Copyright (c) Enalean, 2012. All Rights Reserved.
+ * Copyright (c) Enalean, 2012-Present. All Rights Reserved.
  *
  * This file is a part of Tuleap.
  *
@@ -35,6 +35,8 @@ public function save($cardwall_tracker_id, $tracker_id, $field_id, $value_id, $c
     {
         $cardwall_tracker_id = $this->da->escapeInt($cardwall_tracker_id);
         $tracker_id          = $this->da->escapeInt($tracker_id);
+        $value_id            = $this->da->escapeInt($value_id);
+        $column_id           = $this->da->escapeInt($column_id);
         if ($field_id === null) {
             $field_id = " NULL ";
         } else {
