From 65dcd1d8195069c8c8acb3a188b8e5616c51029c Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Caol=C3=A1n=20McNamara?= <caolanm@redhat.com>
Date: Tue, 14 Mar 2017 09:19:50 +0000
Subject: [PATCH] ofz#860 clear old data before reading new data
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Change-Id: I3bf5c2072a328052004c4c0551c2b125cb8ab19b
Reviewed-on: https://gerrit.libreoffice.org/35165
Reviewed-by: Caolán McNamara <caolanm@redhat.com>
Tested-by: Caolán McNamara <caolanm@redhat.com>
---
 hwpfilter/source/hwpfile.cxx | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/hwpfilter/source/hwpfile.cxx b/hwpfilter/source/hwpfile.cxx
index f4f96dc9c54ec..90fdfdbfe86c1 100644
--- a/hwpfilter/source/hwpfile.cxx
+++ b/hwpfilter/source/hwpfile.cxx
@@ -357,6 +357,8 @@ void HWPFile::TagsRead()
                         return;
                      }
 
+                     _hwpInfo.back_info.data.clear();
+
                      //read potentially compressed data in blocks as its more
                      //likely large values are simply broken and we'll run out
                      //of data before we need to realloc
