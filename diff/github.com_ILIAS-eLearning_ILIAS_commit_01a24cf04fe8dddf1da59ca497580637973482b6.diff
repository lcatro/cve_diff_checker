From 01a24cf04fe8dddf1da59ca497580637973482b6 Mon Sep 17 00:00:00 2001
From: Alexander Killing <killing@leifos.de>
Date: Fri, 11 May 2018 14:34:12 +0200
Subject: [PATCH] fixed bug 23029: redirect

---
 .../classes/class.ilBookmarkAdministrationGUI.php  | 14 +++-----------
 1 file changed, 3 insertions(+), 11 deletions(-)

diff --git a/Services/Bookmarks/classes/class.ilBookmarkAdministrationGUI.php b/Services/Bookmarks/classes/class.ilBookmarkAdministrationGUI.php
index 92ec110f5af0..4797772ea5a6 100755
--- a/Services/Bookmarks/classes/class.ilBookmarkAdministrationGUI.php
+++ b/Services/Bookmarks/classes/class.ilBookmarkAdministrationGUI.php
@@ -679,13 +679,8 @@ function createBookmark()
 
 			ilUtil::sendInfo($lng->txt('bookmark_added'), true);
 
-			if($_POST['return_to'])
-				ilUtil::redirect($_POST['return_to_url']);
-			else
-			{
-				$ilCtrl->saveParameter($this, 'bmf_id');
-				$ilCtrl->redirect($this, 'view');
-			}
+			$ilCtrl->saveParameter($this, 'bmf_id');
+			$ilCtrl->redirect($this, 'view');
 		}
 	}
 
@@ -857,10 +852,7 @@ function delete()
 	 */
 	function cancel()
 	{
-		if($_POST['return_to'])
-			ilUtil::redirect($_POST['return_to_url']);
-		else
-			$this->view();
+		$this->view();
 	}
 
 	/**
