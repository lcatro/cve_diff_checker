From 6a5ceefac1162783fffd9506a3de39c85c725761 Mon Sep 17 00:00:00 2001
From: Daniel Reiter Horn <danielrh@dropbox.com>
Date: Tue, 9 Apr 2019 23:32:33 +0000
Subject: [PATCH] fix #111

---
 src/lepton/jpgcoder.cc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/lepton/jpgcoder.cc b/src/lepton/jpgcoder.cc
index da04eb3f..4a9e3b0d 100644
--- a/src/lepton/jpgcoder.cc
+++ b/src/lepton/jpgcoder.cc
@@ -4163,7 +4163,7 @@ bool read_ujpg( void )
                               Sirikata::BrotliCodec::Decompress(compressed_header_buffer.data(),
                                                                 compressed_header_buffer.size(),
                                                                 JpegAllocator<uint8_t>(),
-                                                                max_file_size * 2 + 128 * 1024 * 1024));
+                                                                ((size_t)max_file_size) * 2 + 128 * 1024 * 1024));
                 if (uncompressed_header_buffer.second) {
                     always_assert(false && "Data not properly zlib coded");
                     return false;
