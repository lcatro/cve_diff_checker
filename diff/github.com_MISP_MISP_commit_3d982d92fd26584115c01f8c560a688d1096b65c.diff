From 3d982d92fd26584115c01f8c560a688d1096b65c Mon Sep 17 00:00:00 2001
From: mokaddem <sami.mokaddem@circl.lu>
Date: Mon, 10 Feb 2020 14:35:09 +0100
Subject: [PATCH] fix: [security] Correctly sanitize search string in Galaxy
 view

- As reported by Dawid Czarnecki
---
 app/View/Galaxies/view.ctp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/app/View/Galaxies/view.ctp b/app/View/Galaxies/view.ctp
index bd978db792..c9c67fb75f 100644
--- a/app/View/Galaxies/view.ctp
+++ b/app/View/Galaxies/view.ctp
@@ -41,7 +41,7 @@ $(document).ready(function () {
     $uri = "/galaxy_clusters/index/" . $galaxy['Galaxy']['id'];
     if (isset($passedArgsArray)) $uri .= '/searchall:' . $passedArgsArray['all'];
     ?>
-    $.get("<?php echo $uri;?>", function(data) {
+    $.get("<?php echo h($uri);?>", function(data) {
         $("#clusters_div").html(data);
     });
 
