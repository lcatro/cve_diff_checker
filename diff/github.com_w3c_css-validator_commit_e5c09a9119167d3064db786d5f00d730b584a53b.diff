From e5c09a9119167d3064db786d5f00d730b584a53b Mon Sep 17 00:00:00 2001
From: Yves Lafon <ylafon@w3.org>
Date: Fri, 19 Jun 2020 13:20:13 +0200
Subject: [PATCH] escape also the throwable message, see #278

---
 org/w3c/css/css/StyleSheetParser.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/org/w3c/css/css/StyleSheetParser.java b/org/w3c/css/css/StyleSheetParser.java
index 33fd3544..ab809600 100644
--- a/org/w3c/css/css/StyleSheetParser.java
+++ b/org/w3c/css/css/StyleSheetParser.java
@@ -234,7 +234,7 @@ public void parseURL(ApplContext ac, URL url, String title,
         } catch (Exception e) {
             Errors er = new Errors();
             er.addError(new org.w3c.css.parser.CssError(Messages.escapeString(url.toString()),
-                    -1, e));
+                    -1, new Exception(Messages.escapeString(e.getMessage()))));
             notifyErrors(er);
         } finally {
             if (doneref) {
