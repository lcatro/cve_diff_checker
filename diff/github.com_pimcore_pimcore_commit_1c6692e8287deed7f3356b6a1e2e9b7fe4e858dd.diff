From 1c6692e8287deed7f3356b6a1e2e9b7fe4e858dd Mon Sep 17 00:00:00 2001
From: memleak <memleak@1f8fe7d8-47f0-464c-8d0a-336f4953ab05>
Date: Mon, 20 Apr 2015 08:40:08 +0000
Subject: [PATCH] fixed sql injection issue

git-svn-id: http://www.pimcore.org/svn/pimcore/private/core/trunk@6460 1f8fe7d8-47f0-464c-8d0a-336f4953ab05
---
 pimcore/modules/admin/controllers/AssetController.php | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/pimcore/modules/admin/controllers/AssetController.php b/pimcore/modules/admin/controllers/AssetController.php
index e897b8d3fb8..43b1ac91e70 100644
--- a/pimcore/modules/admin/controllers/AssetController.php
+++ b/pimcore/modules/admin/controllers/AssetController.php
@@ -1584,7 +1584,8 @@ public function gridProxyAction() {
                 //TODO probably not needed
             }
         } else {
-            // get list of objects
+            $db = \Pimcore\Resource::get();
+                // get list of objects
             $folder = Asset::getById($this->getParam("folderId"));
 
 
@@ -1665,7 +1666,7 @@ public function gridProxyAction() {
                         $field = "CONCAT(path,filename)";
                     }
 
-                    $conditionFilters[] =  $field . $operator . " '" . $value . "' ";
+                    $conditionFilters[] =  $field . $operator . " " . $db->quote($value);
                 }
             }
 
