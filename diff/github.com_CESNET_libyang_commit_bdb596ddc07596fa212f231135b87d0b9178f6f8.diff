From bdb596ddc07596fa212f231135b87d0b9178f6f8 Mon Sep 17 00:00:00 2001
From: Michal Vasko <mvasko@cesnet.cz>
Date: Mon, 29 Apr 2019 08:59:30 +0200
Subject: [PATCH] resolve BUGFIX handle yet unresolved if-features

Fixes #772
---
 src/resolve.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/resolve.c b/src/resolve.c
index e8bd75766..af83bdfbf 100644
--- a/src/resolve.c
+++ b/src/resolve.c
@@ -1402,7 +1402,7 @@ resolve_iffeature(struct lys_iffeature *expr)
 {
     int index_e = 0, index_f = 0;
 
-    if (expr->expr) {
+    if (expr->expr && expr->features[0]) {
         return resolve_iffeature_recursive(expr, &index_e, &index_f);
     }
     return 0;
