From ce7fb2934dd111e6353784852de8aea2a938b359 Mon Sep 17 00:00:00 2001
From: Dominik Schilling <dominikschilling+git@gmail.com>
Date: Wed, 11 Jan 2017 10:34:44 +0000
Subject: [PATCH] Themes: Fix markup for theme name fallbacks. Built from
 https://develop.svn.wordpress.org/trunk@39807

git-svn-id: http://core.svn.wordpress.org/trunk@39745 1a063a9b-81f0-0310-95a4-ce76da25c4cd
---
 wp-includes/class-wp-theme.php | 5 +++--
 wp-includes/version.php        | 2 +-
 2 files changed, 4 insertions(+), 3 deletions(-)

diff --git a/wp-includes/class-wp-theme.php b/wp-includes/class-wp-theme.php
index b373307402b5..77927d388164 100644
--- a/wp-includes/class-wp-theme.php
+++ b/wp-includes/class-wp-theme.php
@@ -737,8 +737,9 @@ private function sanitize_header( $header, $value ) {
 	private function markup_header( $header, $value, $translate ) {
 		switch ( $header ) {
 			case 'Name' :
-				if ( empty( $value ) )
-					$value = $this->get_stylesheet();
+				if ( empty( $value ) ) {
+					$value = esc_html( $this->get_stylesheet() );
+				}
 				break;
 			case 'Description' :
 				$value = wptexturize( $value );
diff --git a/wp-includes/version.php b/wp-includes/version.php
index 0f6a577daa01..7bc1c226d2aa 100644
--- a/wp-includes/version.php
+++ b/wp-includes/version.php
@@ -4,7 +4,7 @@
  *
  * @global string $wp_version
  */
-$wp_version = '4.8-alpha-39795';
+$wp_version = '4.8-alpha-39807';
 
 /**
  * Holds the WordPress DB revision, increments when changes are made to the WordPress DB schema.
