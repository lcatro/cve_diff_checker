From f2566f6978a77e3f0870079c45cda1c065a58a73 Mon Sep 17 00:00:00 2001
From: Denis Chenu <denis@sondages.pro>
Date: Fri, 2 Aug 2019 09:20:48 +0200
Subject: [PATCH] =?UTF-8?q?Fixed=20issue=20[security]:=20#15094=20XSS=20in?=
 =?UTF-8?q?=20Boxes=20(thanks=20to=20Michele=20Cisternino)=20Reported=20by?=
 =?UTF-8?q?=20Michele=20Cisternino=20https://www.linkedin.com/in/micheleci?=
 =?UTF-8?q?sternino/=20Dev:=20encode=20always=20encode=20=E2=80=A6?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

---
 application/extensions/PanelBoxWidget/views/box.php | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/application/extensions/PanelBoxWidget/views/box.php b/application/extensions/PanelBoxWidget/views/box.php
index 1321e31cdd..e6ee6e7a15 100644
--- a/application/extensions/PanelBoxWidget/views/box.php
+++ b/application/extensions/PanelBoxWidget/views/box.php
@@ -1,7 +1,7 @@
 <div class="<?php echo $sizeClass; ?> ls-flex-column ls-panelboxes-panelbox text-primary" >
-    <div class="panel panel-primary panel-clickable ls-panelboxes-panelbox-inner selector__<?=str_replace(' ', '_', strtolower($title))?>"
+    <div class="panel panel-primary panel-clickable ls-panelboxes-panelbox-inner selector__<?php echo CHtml::encode(str_replace(' ', '_', strtolower(strip_tags($title)))) ?>"
         id="panel-<?php echo $position; ?>"
-        data-url="<?php echo $url; ?>"
+        data-url="<?php echo CHtml::encode($url); ?>"
         <?php if ($external): ?>
             data-target="_blank"
         <?php endif; ?>
