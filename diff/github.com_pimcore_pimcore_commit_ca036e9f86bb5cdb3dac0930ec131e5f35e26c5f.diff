From ca036e9f86bb5cdb3dac0930ec131e5f35e26c5f Mon Sep 17 00:00:00 2001
From: Bernhard Rusch <bernhard.rusch@elements.at>
Date: Wed, 30 Oct 2019 14:15:00 +0100
Subject: [PATCH] Fixed possible XSS in the translations grid

---
 .../Resources/public/js/pimcore/settings/translations.js       | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/bundles/AdminBundle/Resources/public/js/pimcore/settings/translations.js b/bundles/AdminBundle/Resources/public/js/pimcore/settings/translations.js
index 757ccde31fc..cebeffc55a2 100644
--- a/bundles/AdminBundle/Resources/public/js/pimcore/settings/translations.js
+++ b/bundles/AdminBundle/Resources/public/js/pimcore/settings/translations.js
@@ -102,6 +102,9 @@ pimcore.settings.translations = Class.create({
                 dataIndex: "_" + languages[i],
                 filter: 'string',
                 getEditor: this.getCellEditor.bind(this, languages[i]),
+                renderer: function (text) {
+                    return replace_html_event_attributes(strip_tags(text, 'div,span,b,strong,em,i,small,sup,sub,p'));
+                },
                 id: "translation_column_" + this.translationType + "_" + languages[i].toLowerCase()
             };
             if (applyInitialSettings) {
