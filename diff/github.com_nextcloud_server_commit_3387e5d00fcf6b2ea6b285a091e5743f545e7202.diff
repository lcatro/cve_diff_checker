From 3387e5d00fcf6b2ea6b285a091e5743f545e7202 Mon Sep 17 00:00:00 2001
From: Roeland Jago Douma <roeland@famdouma.nl>
Date: Tue, 2 Aug 2016 10:58:27 +0200
Subject: [PATCH] Add intergration test

---
 build/integration/features/sharing-v1.feature | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

diff --git a/build/integration/features/sharing-v1.feature b/build/integration/features/sharing-v1.feature
index ed8f3b23f252..4ff69ca5cc46 100644
--- a/build/integration/features/sharing-v1.feature
+++ b/build/integration/features/sharing-v1.feature
@@ -594,3 +594,18 @@ Feature: sharing
       | /foo/       |
       | /foo%20(2)/ |
 
+  Scenario: Deleting a group share as user
+    Given As an "admin"
+    And user "user0" exists
+    And user "user1" exists
+    And group "group1" exists
+    And user "user1" belongs to group "group1"
+    And As an "user0"
+    And creating a share with
+      | path | welcome.txt |
+      | shareType | 1 |
+      | shareWith | group1 |
+    When As an "user1"
+    And Deleting last share
+    Then the OCS status code should be "404"
+    And the HTTP status code should be "200"
