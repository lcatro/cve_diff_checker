From e2c4f4f9aa11bc92e8f2212cce73841b922187e8 Mon Sep 17 00:00:00 2001
From: Roeland Jago Douma <roeland@famdouma.nl>
Date: Tue, 2 Aug 2016 10:58:27 +0200
Subject: [PATCH] Add intergration test

---
 build/integration/features/sharing-v1.feature | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

diff --git a/build/integration/features/sharing-v1.feature b/build/integration/features/sharing-v1.feature
index 75f98521e3a0..cd5be9cfe526 100644
--- a/build/integration/features/sharing-v1.feature
+++ b/build/integration/features/sharing-v1.feature
@@ -759,3 +759,19 @@ Feature: sharing
       | shareType | 0 |
     Then the OCS status code should be "997"
     And the HTTP status code should be "401"
+
+  Scenario: Deleting a group share as user
+    Given As an "admin"
+    And user "user0" exists
+    And user "user1" exists
+    And group "group1" exists
+    And user "user1" belongs to group "group1"
+    And As an "user0"
+    And creating a share with
+      | path | welcome.txt |
+      | shareType | 1 |
+      | shareWith | group1 |
+    When As an "user1"
+    And Deleting last share
+    Then the OCS status code should be "404"
+    And the HTTP status code should be "200"
