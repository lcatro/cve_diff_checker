From 273b27d0de1004389dd8cf43c40b1197c787e7cd Mon Sep 17 00:00:00 2001
From: Glenn Snyder <gsnyder@blackducksoftware.com>
Date: Thu, 22 Oct 2020 14:47:14 -0400
Subject: [PATCH] fixed use of hard-coded values for the verify parameter being
 supplied to the requests module calls

---
 blackduck/HubRestApi.py  | 6 +++---
 blackduck/__version__.py | 2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/blackduck/HubRestApi.py b/blackduck/HubRestApi.py
index df9ad2a..8ebcd34 100755
--- a/blackduck/HubRestApi.py
+++ b/blackduck/HubRestApi.py
@@ -1307,11 +1307,11 @@ def upload_scan(self, filename):
         if filename.endswith('.json') or filename.endswith('.jsonld'):
             headers['Content-Type'] = 'application/ld+json'
             with open(filename,"r") as f:
-                response = requests.post(url, headers=headers, data=f, verify=False)
+                response = requests.post(url, headers=headers, data=f, verify=not self.config['insecure'])
         elif filename.endswith('.bdio'):
             headers['Content-Type'] = 'application/vnd.blackducksoftware.bdio+zip'
             with open(filename,"rb") as f:
-                response = requests.post(url, headers=headers, data=f, verify=False)
+                response = requests.post(url, headers=headers, data=f, verify=not self.config['insecure'])
         else:
             raise Exception("Unkown file type")
         return response
@@ -1338,7 +1338,7 @@ def download_project_scans(self, project_name,version_name, output_folder=None):
                     if not os.path.exists(project_name):
                         os.mkdir(project_name)
                     pathname = os.path.join(project_name, filename)
-                responce = requests.get(url, headers=self.get_headers(), stream=True, verify=False)
+                responce = requests.get(url, headers=self.get_headers(), stream=True, verify=not self.config['insecure'])
                 with open(pathname, "wb") as f:
                     for data in responce.iter_content():
                         f.write(data)
diff --git a/blackduck/__version__.py b/blackduck/__version__.py
index e456aef..100276e 100644
--- a/blackduck/__version__.py
+++ b/blackduck/__version__.py
@@ -1,3 +1,3 @@
-VERSION = (0, 0, 52)
+VERSION = (0, 0, 53)
 
 __version__ = '.'.join(map(str, VERSION))
