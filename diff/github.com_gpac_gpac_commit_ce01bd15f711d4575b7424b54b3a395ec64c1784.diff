From ce01bd15f711d4575b7424b54b3a395ec64c1784 Mon Sep 17 00:00:00 2001
From: jeanlf <jeanlf@gpac.io>
Date: Tue, 1 Sep 2020 17:05:02 +0200
Subject: [PATCH] fixed #1566

---
 applications/mp4box/filedump.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/applications/mp4box/filedump.c b/applications/mp4box/filedump.c
index cfca7c0b25..ee4615e388 100644
--- a/applications/mp4box/filedump.c
+++ b/applications/mp4box/filedump.c
@@ -1624,7 +1624,8 @@ void dump_isom_sdp(GF_ISOFile *file, char *inName, Bool is_final_name)
 	}
 	//get the movie SDP
 	gf_isom_sdp_get(file, &sdp, &size);
-	fprintf(dump, "%s", sdp);
+	if (sdp && size)
+		fprintf(dump, "%s", sdp);
 	fprintf(dump, "\r\n");
 
 	//then tracks
