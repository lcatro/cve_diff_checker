<!DOCTYPE html>
<html lang="en-US" class="theme-">
<head data-suburl="">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Disallow router interface out of subnet IP range Â· 54aa6e81cb -  neutron - OpenDev: Free Software Needs Free Tools </title>
	<link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiT3BlbkRldjogRnJlZSBTb2Z0d2FyZSBOZWVkcyBGcmVlIFRvb2xzIiwic2hvcnRfbmFtZSI6Ik9wZW5EZXY6IEZyZWUgU29mdHdhcmUgTmVlZHMgRnJlZSBUb29scyIsInN0YXJ0X3VybCI6Imh0dHBzOi8vb3BlbmRldi5vcmcvIiwiaWNvbnMiOlt7InNyYyI6Imh0dHBzOi8vb3BlbmRldi5vcmcvYXNzZXRzL2ltZy9sb2dvLnBuZyIsInR5cGUiOiJpbWFnZS9wbmciLCJzaXplcyI6IjUxMng1MTIifSx7InNyYyI6Imh0dHBzOi8vb3BlbmRldi5vcmcvYXNzZXRzL2ltZy9sb2dvLnN2ZyIsInR5cGUiOiJpbWFnZS9zdmcreG1sIiwic2l6ZXMiOiI1MTJ4NTEyIn1dfQ=="/>
	<meta name="theme-color" content="#ee265e">
	<meta name="default-theme" content="gitea" />
	<meta name="author" content="openstack" />
	<meta name="description" content="neutron - OpenStack Networking (Neutron)" />
	<meta name="keywords" content="go,git,self-hosted,gitea">
	<meta name="referrer" content="no-referrer" />
	<meta name="_csrf" content="s0aDCUCMGh_fhsNcDOzChyttPlU6MTYzNTU0MDA3NDYwMjg2MTY1Mw" />
	
	
	

	<script>
		window.config = {
			AppVer: 'v1.15.6',
			AppSubUrl: '',
			AssetUrlPrefix: '\/assets',
			CustomEmojis: {"codeberg":":codeberg:","git":":git:","gitea":":gitea:","github":":github:","gitlab":":gitlab:","gogs":":gogs:"},
			UseServiceWorker:  true ,
			csrf: 's0aDCUCMGh_fhsNcDOzChyttPlU6MTYzNTU0MDA3NDYwMjg2MTY1Mw',
			HighlightJS: true,
			SimpleMDE: true,
			Tribute: true,
			NotificationSettings: {
				MinTimeout:  10000 ,
				TimeoutStep:   10000 ,
				MaxTimeout:  60000 ,
				EventSourceUpdateTime:  10000 ,
			},
			EnableTimetracking: true,
			PageIsProjects: false,
			
			tributeValues: Array.from(new Map([
				
				
				
			]).values()),
			
		};
	</script>
	<link rel="icon" href="/assets/img/logo.svg" type="image/svg+xml">
	<link rel="alternate icon" href="/assets/img/favicon.png" type="image/png">

	<link rel="stylesheet" href="/assets/css/easymde.css?v=edf53370e91fc06d8fdf43a9cf0d5529">

	<link rel="stylesheet" href="/assets/css/index.css?v=edf53370e91fc06d8fdf43a9cf0d5529">
	<noscript>
		<style>
			.dropdown:hover > .menu { display: block; }
			.ui.secondary.menu .dropdown.item > .menu { margin-top: 0; }
		</style>
	</noscript>
	<style class="list-search-style"></style>

	
		<meta property="og:title" content="neutron" />
		<meta property="og:url" content="https://opendev.org/openstack/neutron" />
		
			<meta property="og:description" content="OpenStack Networking (Neutron)" />
		
	
	<meta property="og:type" content="object" />
	
		<meta property="og:image" content="https://opendev.org/user/avatar/openstack/-1" />
	

<meta property="og:site_name" content="OpenDev: Free Software Needs Free Tools" />


</head>
<body>
	

	<div class="full height">
		<noscript>This website works better with JavaScript.</noscript>

		

		
			<div class="ui top secondary stackable main menu following bar light">
				<div class="ui container" id="navbar">
	<div class="item brand" style="justify-content: space-between;">
		<a href="/">
			<img class="ui mini image" width="30" height="30" src="/assets/img/logo.svg">
		</a>
		<div class="ui basic icon button mobile-only" id="navbar-expand-toggle">
			<i class="sidebar icon"></i>
		</div>
	</div>

	
		<a class="item " href="/">Home</a>
		<a class="item " href="/explore/repos">Explore</a>
	

	

	


	
		<a class="item" target="_blank" rel="noopener noreferrer" href="https://docs.opendev.org/opendev/infra-manual/latest/gettingstarted.html">Get Started</a>
		<div class="right stackable menu">
			
		</div>
	
</div>

			</div>
		


<div class="page-content repository diff">
	<div class="header-wrapper">

	<div class="ui container">
		<div class="repo-header">
			<div class="repo-title-wrap df fc">
				<div class="repo-title">
					
					
						<div class="repo-icon mr-3">
	
		
			<svg viewBox="0 0 16 16" class="svg octicon-repo" width="32" height="32" aria-hidden="true"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 1 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 0 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 0 1 1-1h8zM5 12.25v3.25a.25.25 0 0 0 .4.2l1.45-1.087a.25.25 0 0 1 .3 0L8.6 15.7a.25.25 0 0 0 .4-.2v-3.25a.25.25 0 0 0-.25-.25h-3.5a.25.25 0 0 0-.25.25z"/></svg>
		
	
</div>

					
					<a href="/openstack">openstack</a>
					<div class="mx-2">/</div>
					<a href="/openstack/neutron">neutron</a>
					<div class="labels df ac fw">
						
							
								
							
						
						
					</div>
				</div>
				
				
				
			</div>
			
		</div>
	</div>

	<div class="ui tabs container">
		
			<div class="ui tabular stackable menu navbar">
				
				<a class=" item" href="/openstack/neutron/src/branch/master">
					<svg viewBox="0 0 16 16" class="svg octicon-code" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4.72 3.22a.75.75 0 0 1 1.06 1.06L2.06 8l3.72 3.72a.75.75 0 1 1-1.06 1.06L.47 8.53a.75.75 0 0 1 0-1.06l4.25-4.25zm6.56 0a.75.75 0 1 0-1.06 1.06L13.94 8l-3.72 3.72a.75.75 0 1 0 1.06 1.06l4.25-4.25a.75.75 0 0 0 0-1.06l-4.25-4.25z"/></svg> Code
				</a>
				

				

				
					<a class=" item" href="https://bugs.launchpad.net/neutron" target="_blank" rel="noopener noreferrer">
						<svg viewBox="0 0 16 16" class="svg octicon-link-external" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10.604 1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.75.75 0 0 1-1.06-1.06l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1zM3.75 2A1.75 1.75 0 0 0 2 3.75v8.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0 0 14 12.25v-3.5a.75.75 0 0 0-1.5 0v3.5a.25.25 0 0 1-.25.25h-8.5a.25.25 0 0 1-.25-.25v-8.5a.25.25 0 0 1 .25-.25h3.5a.75.75 0 0 0 0-1.5h-3.5z"/></svg> Issues </span>
					</a>
				

				

				
				<a class="item" href="https://review.opendev.org/#/q/status:open+project:openstack/neutron">
					<svg viewBox="0 0 16 16" class="svg octicon-git-pull-request" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.177 3.073 9.573.677A.25.25 0 0 1 10 .854v4.792a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354zM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5zm-2.25.75a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25zM11 2.5h-1V4h1a1 1 0 0 1 1 1v5.628a2.251 2.251 0 1 0 1.5 0V5A2.5 2.5 0 0 0 11 2.5zm1 10.25a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0zM3.75 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5z"/></svg> Proposed changes
				</a>

				

				

				

				

				

				
			</div>
		
	</div>
	<div class="ui tabs divider"></div>
</div>

	<div class="ui container ">
		
		
		<div class="ui top attached info clearing segment ">
			
			<a class="ui floated right blue tiny button" href="/openstack/neutron/src/commit/54aa6e81cb17b33ce4d5d469cc11dec2869c762d">
				Browse Source
			</a>
			
			<h3><span class="message-wrapper"><span class="commit-summary" title="Disallow router interface out of subnet IP range">Disallow router interface out of subnet IP range</span></span><a class="ui link commit-statuses-trigger">




</a>
<div class="ui popup very wide fixed basic commit-statuses">
	<div class="ui relaxed list divided">
		
	</div>
</div>
</h3>
			
				<pre class="commit-body">Currently, a non privileged tenant can add a router interface to a
shared / external network&#39;s subnet with an IP address outside the
subnet&#39;s allocation pool, creating a security risk. This patch prevents
tenants who are not the subnet&#39;s owner or admin from assigning a router
interface an IP address outside the subnet&#39;s allocation pool.

Change-Id: I32e76a83443dd8e7d79b396499747f29b4762e92
Closes-Bug: <a href="https://bugs.launchpad.net/neutron/+bug/1757482" class="ref-issue ref-external-issue">#1757482</a></pre>
			
			
				<span class="text grey"><svg viewBox="0 0 16 16" class="svg octicon-git-branch" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5zm-2.25.75a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.492 2.492 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25zM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5zM3.5 3.25a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0z"/></svg>changes/44/575444/5</span>
			
			
		</div>
		<div class="ui attached info segment ">
			<div class="ui stackable grid">
				<div class="nine wide column">
					
						<img class="ui avatar image" src="/avatar/bdab0a2e5feae64a7cca6e71c1c2dc45?size=48" title="miguel.lavalle@huawei.com" width="12" height="12"/>
						<strong>Miguel Lavalle</strong>
					
					<span class="text grey" id="authored-time"><span class="time-since" title="Thu, 14 Jun 2018 14:21:09 UTC">3 years ago</span></span>
					

				</div>
				<div class="seven wide right aligned column">
					<div class="ui horizontal list">
						
							<div class="item">
								parent
							</div>
							<div class="item">
								
									
										<a class="ui blue sha label" href="/openstack/neutron/commit/0dada3b26d587a6e2d8ecb6ea36f2ad3783e355a">0dada3b26d</a>
									
								
							</div>
						
						<div class="mobile-only"></div>
						<div class="item">commit</div>
						<div class="item"><span class="ui blue sha label">54aa6e81cb</span></div>
					</div>
				</div>
			</div>
		</div>
		
		
		
	<div>
		<div class="diff-detail-box diff-box sticky df sb ac">
			<div class="diff-detail-stats df ac">
				<svg viewBox="0 0 16 16" class="mr-2 svg octicon-diff" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.75 1.75a.75.75 0 0 0-1.5 0V5H4a.75.75 0 0 0 0 1.5h3.25v3.25a.75.75 0 0 0 1.5 0V6.5H12A.75.75 0 0 0 12 5H8.75V1.75zM4 13a.75.75 0 0 0 0 1.5h8a.75.75 0 1 0 0-1.5H4z"/></svg><strong> 2 changed files</strong> with <strong>82 additions</strong> and <strong>0 deletions</strong>
			</div>
			<div class="diff-detail-actions df ac">
				<div class="ui dropdown tiny basic button">
	Whitespace
	<svg viewBox="0 0 16 16" class="dropdown icon svg octicon-triangle-down" width="14" height="14" aria-hidden="true"><path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427z"/></svg>
	<div class="menu">
		<a class="item" href="?style=unified&whitespace=">
			<i class="circle dot icon"></i>
			Show all changes
		</a>
		<a class="item" href="?style=unified&whitespace=ignore-all">
			<i class="circle outline icon"></i>
			Ignore whitespace when comparing lines
		</a>
		<a class="item" href="?style=unified&whitespace=ignore-change">
			<i class="circle outline icon"></i>
			Ignore changes in amount of whitespace
		</a>
		<a class="item" href="?style=unified&whitespace=ignore-eol">
			<i class="circle outline icon"></i>
			Ignore changes in whitespace at EOL
		</a>
	</div>
</div>
<a class="ui tiny basic toggle button" href="?style=split&whitespace=">Split View</a>

				<div class="ui dropdown tiny basic button">
	Diff Options
	<svg viewBox="0 0 16 16" class="dropdown icon svg octicon-triangle-down" width="14" height="14" aria-hidden="true"><path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427z"/></svg>
	<div class="menu">
		<a class="item tiny basic toggle button" data-target="#diff-files">Show Stats</a>
		
			<a class="item" href="/openstack/neutron/commit/54aa6e81cb17b33ce4d5d469cc11dec2869c762d.patch" download="54aa6e81cb.patch">Download Patch File</a>
			<a class="item" href="/openstack/neutron/commit/54aa6e81cb17b33ce4d5d469cc11dec2869c762d.diff" download="54aa6e81cb.diff">Download Diff File</a>
		
	</div>
</div>

				
			</div>
		</div>
		<ol class="diff-detail-box diff-stats m-0 hide" id="diff-files">
			
				<li>
					<div class="bold df ac pull-right">
						
							26
<span class="diff-stats-bar poping up mx-3" data-content="26 changes: 26 additions and 0 deletions" data-variation="wide">
	<div class="diff-stats-add-bar" style="width: 100.000000%"></div>
</span>

						
					</div>
					
					<span class="status modify poping up" data-content="modify" data-variation="inverted tiny" data-position="right center">&nbsp;</span>
					<a class="file mono" href="#diff-1">neutron/db/l3_db.py</a>
				</li>
			
				<li>
					<div class="bold df ac pull-right">
						
							56
<span class="diff-stats-bar poping up mx-3" data-content="56 changes: 56 additions and 0 deletions" data-variation="wide">
	<div class="diff-stats-add-bar" style="width: 100.000000%"></div>
</span>

						
					</div>
					
					<span class="status modify poping up" data-content="modify" data-variation="inverted tiny" data-position="right center">&nbsp;</span>
					<a class="file mono" href="#diff-2">neutron/tests/unit/extensions/test_l3.py</a>
				</li>
			
		</ol>
		
			
			
			
			
			
			<div class="diff-file-box diff-box file-content tab-size-8 mt-3" id="diff-1">
				<h4 class="diff-file-header sticky-2nd-row ui top attached normal header df ac sb">
					<div class="df ac">
						<a role="button" class="fold-file muted mr-2">
							<svg viewBox="0 0 16 16" class="svg octicon-chevron-down" width="18" height="18" aria-hidden="true"><path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L3.22 7.28a.75.75 0 0 1 1.06-1.06L8 9.94l3.72-3.72a.75.75 0 0 1 1.06 0z"/></svg>
						</a>
						<div class="bold df ac">
							
								26
<span class="diff-stats-bar poping up mx-3" data-content="26 changes: 26 additions and 0 deletions" data-variation="wide">
	<div class="diff-stats-add-bar" style="width: 100.000000%"></div>
</span>

							
						</div>
						<span class="file mono">neutron/db/l3_db.py</span>
					</div>
					<div class="diff-file-header-actions df ac">
						
						
						
							
								<a class="ui basic tiny button" rel="nofollow" href="/openstack/neutron/src/commit/54aa6e81cb17b33ce4d5d469cc11dec2869c762d/neutron/db/l3_db.py">View File</a>
							
						
					</div>
				</h4>
				<div class="diff-file-body ui attached unstackable table segment">
					<div id="diff-source-0" class="file-body file-code code-diff code-diff-unified">
						
							<table class="chroma">
								
									

	
		
			<tr class="tag-code nl-0 ol-0" data-line-type="tag">
				
					<td colspan="2" class="lines-num">
						
						
							<a role="button" class="blob-excerpt" data-url="/openstack/neutron/blob_excerpt/54aa6e81cb17b33ce4d5d469cc11dec2869c762d" data-query="last_left=0&amp;last_right=0&amp;left=692&amp;right=692&amp;left_hunk_size=6&amp;right_hunk_size=27&amp;path=neutron%2Fdb%2Fl3_db.py&style=unified&direction=up" data-anchor="diff-deea6172e1db0410f090646cd6e8e74388aa737bK692">
								<svg viewBox="0 0 16 16" class="svg octicon-fold-up" width="16" height="16" aria-hidden="true"><path d="M7.823 1.677 4.927 4.573A.25.25 0 0 0 5.104 5H7.25v3.236a.75.75 0 1 0 1.5 0V5h2.146a.25.25 0 0 0 .177-.427L8.177 1.677a.25.25 0 0 0-.354 0zM13.75 11a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5zm-3.75.75a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75zM7.75 11a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5zM4 11.75a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75zM1.75 11a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5z"/></svg>
							</a>
						
						
					</td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=""></span></td>
				
					<td class="chroma lines-code blob-hunk"><code class="code-inner">@ -692,6 +692,27 @@ class L3_NAT_dbonly_mixin(l3.RouterPluginBase,</code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-1 ol-1" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="692"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bL692"></span></td>
					<td class="lines-num lines-num-new" data-line-num="692"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR692"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="k">raise</span> <span class="n">n_exc</span><span class="o">.</span><span class="n">BadRequest</span><span class="p">(</span><span class="n">resource</span><span class="o">=</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">router</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-2 ol-2" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="693"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bL693"></span></td>
					<td class="lines-num lines-num-new" data-line-num="693"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR693"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">        <span class="k">return</span> <span class="n">port</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-3 ol-3" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="694"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bL694"></span></td>
					<td class="lines-num lines-num-new" data-line-num="694"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR694"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">
</code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-4 ol-4" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="695"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR695"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">    <span class="k">def</span> <span class="nf">_validate_port_in_range_or_admin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">subnets</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-5 ol-5" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="696"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR696"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">        <span class="k">if</span> <span class="n">context</span><span class="o">.</span><span class="n">is_admin</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-6 ol-6" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="697"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR697"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="k">return</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-7 ol-7" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="698"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR698"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">        <span class="n">subnets_by_id</span> <span class="o">=</span> <span class="p">{</span><span class="p">}</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-8 ol-8" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="699"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR699"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">subnets</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-9 ol-9" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="700"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR700"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="n">addr_set</span> <span class="o">=</span> <span class="n">netaddr</span><span class="o">.</span><span class="n">IPSet</span><span class="p">(</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-10 ol-10" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="701"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR701"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="k">for</span> <span class="nb">range</span> <span class="ow">in</span> <span class="n">s</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">allocation_pools</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-11 ol-11" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="702"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR702"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                <span class="n">addr_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">netaddr</span><span class="o">.</span><span class="n">IPRange</span><span class="p">(</span><span class="n">netaddr</span><span class="o">.</span><span class="n">IPAddress</span><span class="p">(</span><span class="nb">range</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">start</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">)</span><span class="p">,</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-12 ol-12" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="703"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR703"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                                             <span class="n">netaddr</span><span class="o">.</span><span class="n">IPAddress</span><span class="p">(</span><span class="nb">range</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">end</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">)</span><span class="p">)</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-13 ol-13" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="704"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR704"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="n">subnets_by_id</span><span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">id</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">addr_set</span><span class="p">,</span> <span class="n">s</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">project_id</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">,</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-14 ol-14" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="705"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR705"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">        <span class="k">for</span> <span class="n">subnet_id</span><span class="p">,</span> <span class="n">ip</span> <span class="ow">in</span> <span class="p">[</span><span class="p">(</span><span class="n">fix_ip</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">subnet_id</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">,</span> <span class="n">fix_ip</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">ip_address</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">,</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-15 ol-15" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="706"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR706"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                              <span class="k">for</span> <span class="n">fix_ip</span> <span class="ow">in</span> <span class="n">port</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">fixed_ips</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">]</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-16 ol-16" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="707"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR707"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="k">if</span> <span class="p">(</span><span class="n">ip</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">subnets_by_id</span><span class="p">[</span><span class="n">subnet_id</span><span class="p">]</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-17 ol-17" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="708"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR708"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                    <span class="n">context</span><span class="o">.</span><span class="n">project_id</span> <span class="o">!=</span> <span class="n">subnets_by_id</span><span class="p">[</span><span class="n">subnet_id</span><span class="p">]</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="p">)</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-18 ol-18" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="709"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR709"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">Cannot add interface to router because specified </span><span class="s1">&#39;</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-19 ol-19" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="710"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR710"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                         <span class="sa"></span><span class="s1">&#39;</span><span class="s1">port </span><span class="si">%(port)s</span><span class="s1"> has an IP address out of the </span><span class="s1">&#39;</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-20 ol-20" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="711"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR711"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                         <span class="sa"></span><span class="s1">&#39;</span><span class="s1">allocation pool of subnet </span><span class="si">%(subnet)s</span><span class="s1">, which is not </span><span class="s1">&#39;</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-21 ol-21" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="712"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR712"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                         <span class="sa"></span><span class="s1">&#39;</span><span class="s1">owned by the project making the request</span><span class="s1">&#39;</span><span class="p">)</span> <span class="o">%</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-22 ol-22" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="713"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR713"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                       <span class="p">{</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">port</span><span class="s1">&#39;</span><span class="p">:</span> <span class="n">port</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">id</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">,</span> <span class="sa"></span><span class="s1">&#39;</span><span class="s1">subnet</span><span class="s1">&#39;</span><span class="p">:</span> <span class="n">subnet_id</span><span class="p">}</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-23 ol-23" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="714"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR714"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                <span class="k">raise</span> <span class="n">n_exc</span><span class="o">.</span><span class="n">BadRequest</span><span class="p">(</span><span class="n">resource</span><span class="o">=</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">router</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-24 ol-24" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="715"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR715"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">
</code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-25 ol-25" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="695"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bL695"></span></td>
					<td class="lines-num lines-num-new" data-line-num="716"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR716"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">    <span class="k">def</span> <span class="nf">_validate_router_port_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">router</span><span class="p">,</span> <span class="n">port_id</span><span class="p">)</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-26 ol-26" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="696"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bL696"></span></td>
					<td class="lines-num lines-num-new" data-line-num="717"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR717"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">        <span class="k">with</span> <span class="n">db_api</span><span class="o">.</span><span class="n">autonested_transaction</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">session</span><span class="p">)</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-27 ol-27" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="697"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bL697"></span></td>
					<td class="lines-num lines-num-new" data-line-num="718"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR718"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="c1"># check again within transaction to mitigate race</span></code></td>
				
			</tr>
			
		
	

	
		
			<tr class="tag-code nl-0 ol-0" data-line-type="tag">
				
					<td colspan="2" class="lines-num">
						
							<a role="button" class="blob-excerpt" data-url="/openstack/neutron/blob_excerpt/54aa6e81cb17b33ce4d5d469cc11dec2869c762d" data-query="last_left=697&amp;last_right=718&amp;left=727&amp;right=748&amp;left_hunk_size=6&amp;right_hunk_size=7&amp;path=neutron%2Fdb%2Fl3_db.py&style=unified&direction=down" data-anchor="diff-deea6172e1db0410f090646cd6e8e74388aa737bK748">
								<svg viewBox="0 0 16 16" class="svg octicon-fold-down" width="16" height="16" aria-hidden="true"><path d="m8.177 14.323 2.896-2.896a.25.25 0 0 0-.177-.427H8.75V7.764a.75.75 0 1 0-1.5 0V11H5.104a.25.25 0 0 0-.177.427l2.896 2.896a.25.25 0 0 0 .354 0zM2.25 5a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5zM6 4.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5a.75.75 0 0 1 .75.75zM8.25 5a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5zM12 4.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5a.75.75 0 0 1 .75.75zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5z"/></svg>
							</a>
						
						
							<a role="button" class="blob-excerpt" data-url="/openstack/neutron/blob_excerpt/54aa6e81cb17b33ce4d5d469cc11dec2869c762d" data-query="last_left=697&amp;last_right=718&amp;left=727&amp;right=748&amp;left_hunk_size=6&amp;right_hunk_size=7&amp;path=neutron%2Fdb%2Fl3_db.py&style=unified&direction=up" data-anchor="diff-deea6172e1db0410f090646cd6e8e74388aa737bK748">
								<svg viewBox="0 0 16 16" class="svg octicon-fold-up" width="16" height="16" aria-hidden="true"><path d="M7.823 1.677 4.927 4.573A.25.25 0 0 0 5.104 5H7.25v3.236a.75.75 0 1 0 1.5 0V5h2.146a.25.25 0 0 0 .177-.427L8.177 1.677a.25.25 0 0 0-.354 0zM13.75 11a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5zm-3.75.75a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75zM7.75 11a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5zM4 11.75a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75zM1.75 11a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5z"/></svg>
							</a>
						
						
					</td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=""></span></td>
				
					<td class="chroma lines-code blob-hunk"><code class="code-inner">@ -727,6 +748,7 @@ class L3_NAT_dbonly_mixin(l3.RouterPluginBase,</code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-1 ol-1" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="727"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bL727"></span></td>
					<td class="lines-num lines-num-new" data-line-num="748"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR748"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                <span class="n">msg</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">Cannot have multiple </span><span class="s2">&#34;</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-2 ol-2" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="728"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bL728"></span></td>
					<td class="lines-num lines-num-new" data-line-num="749"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR749"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                        <span class="sa"></span><span class="s2">&#34;</span><span class="s2">IPv4 subnets on router port</span><span class="s2">&#34;</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-3 ol-3" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="729"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bL729"></span></td>
					<td class="lines-num lines-num-new" data-line-num="750"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR750"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                <span class="k">raise</span> <span class="n">n_exc</span><span class="o">.</span><span class="n">BadRequest</span><span class="p">(</span><span class="n">resource</span><span class="o">=</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">router</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-4 ol-4" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="751"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR751"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="bp">self</span><span class="o">.</span><span class="n">_validate_port_in_range_or_admin</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">subnets</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-5 ol-5" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="730"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bL730"></span></td>
					<td class="lines-num lines-num-new" data-line-num="752"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR752"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="k">return</span> <span class="n">port</span><span class="p">,</span> <span class="n">subnets</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-6 ol-6" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="731"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bL731"></span></td>
					<td class="lines-num lines-num-new" data-line-num="753"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR753"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">
</code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-7 ol-7" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="732"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bL732"></span></td>
					<td class="lines-num lines-num-new" data-line-num="754"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR754"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">    <span class="k">def</span> <span class="nf">_notify_attaching_interface</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">router_db</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span></code></td>
				
			</tr>
			
		
	

	
		
			<tr class="tag-code nl-0 ol-0" data-line-type="tag">
				
					<td colspan="2" class="lines-num">
						
							<a role="button" class="blob-excerpt" data-url="/openstack/neutron/blob_excerpt/54aa6e81cb17b33ce4d5d469cc11dec2869c762d" data-query="last_left=732&amp;last_right=754&amp;left=788&amp;right=810&amp;left_hunk_size=6&amp;right_hunk_size=10&amp;path=neutron%2Fdb%2Fl3_db.py&style=unified&direction=down" data-anchor="diff-deea6172e1db0410f090646cd6e8e74388aa737bK810">
								<svg viewBox="0 0 16 16" class="svg octicon-fold-down" width="16" height="16" aria-hidden="true"><path d="m8.177 14.323 2.896-2.896a.25.25 0 0 0-.177-.427H8.75V7.764a.75.75 0 1 0-1.5 0V11H5.104a.25.25 0 0 0-.177.427l2.896 2.896a.25.25 0 0 0 .354 0zM2.25 5a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5zM6 4.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5a.75.75 0 0 1 .75.75zM8.25 5a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5zM12 4.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5a.75.75 0 0 1 .75.75zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5z"/></svg>
							</a>
						
						
							<a role="button" class="blob-excerpt" data-url="/openstack/neutron/blob_excerpt/54aa6e81cb17b33ce4d5d469cc11dec2869c762d" data-query="last_left=732&amp;last_right=754&amp;left=788&amp;right=810&amp;left_hunk_size=6&amp;right_hunk_size=10&amp;path=neutron%2Fdb%2Fl3_db.py&style=unified&direction=up" data-anchor="diff-deea6172e1db0410f090646cd6e8e74388aa737bK810">
								<svg viewBox="0 0 16 16" class="svg octicon-fold-up" width="16" height="16" aria-hidden="true"><path d="M7.823 1.677 4.927 4.573A.25.25 0 0 0 5.104 5H7.25v3.236a.75.75 0 1 0 1.5 0V5h2.146a.25.25 0 0 0 .177-.427L8.177 1.677a.25.25 0 0 0-.354 0zM13.75 11a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5zm-3.75.75a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75zM7.75 11a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5zM4 11.75a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75zM1.75 11a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5z"/></svg>
							</a>
						
						
					</td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=""></span></td>
				
					<td class="chroma lines-code blob-hunk"><code class="code-inner">@ -788,6 +810,10 @@ class L3_NAT_dbonly_mixin(l3.RouterPluginBase,</code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-1 ol-1" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="788"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bL788"></span></td>
					<td class="lines-num lines-num-new" data-line-num="810"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR810"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">        <span class="k">if</span> <span class="ow">not</span> <span class="n">subnet</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">gateway_ip</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-2 ol-2" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="789"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bL789"></span></td>
					<td class="lines-num lines-num-new" data-line-num="811"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR811"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="n">msg</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">Subnet for router interface must have a gateway IP</span><span class="s1">&#39;</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-3 ol-3" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="790"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bL790"></span></td>
					<td class="lines-num lines-num-new" data-line-num="812"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR812"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="k">raise</span> <span class="n">n_exc</span><span class="o">.</span><span class="n">BadRequest</span><span class="p">(</span><span class="n">resource</span><span class="o">=</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">router</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-4 ol-4" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="813"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR813"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">        <span class="k">if</span> <span class="n">subnet</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">project_id</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">context</span><span class="o">.</span><span class="n">project_id</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">context</span><span class="o">.</span><span class="n">is_admin</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-5 ol-5" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="814"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR814"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">Cannot add interface to router because subnet </span><span class="si">%s</span><span class="s1"> is not </span><span class="s1">&#39;</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-6 ol-6" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="815"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR815"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                     <span class="sa"></span><span class="s1">&#39;</span><span class="s1">owned by project making the request</span><span class="s1">&#39;</span><span class="p">)</span> <span class="o">%</span> <span class="n">subnet_id</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-7 ol-7" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="816"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR816"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="k">raise</span> <span class="n">n_exc</span><span class="o">.</span><span class="n">BadRequest</span><span class="p">(</span><span class="n">resource</span><span class="o">=</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">router</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-8 ol-8" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="791"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bL791"></span></td>
					<td class="lines-num lines-num-new" data-line-num="817"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR817"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">        <span class="k">if</span> <span class="p">(</span><span class="n">subnet</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">ip_version</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">6</span> <span class="ow">and</span> <span class="n">subnet</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">ipv6_ra_mode</span><span class="s1">&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-9 ol-9" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="792"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bL792"></span></td>
					<td class="lines-num lines-num-new" data-line-num="818"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR818"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                <span class="n">subnet</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">ipv6_address_mode</span><span class="s1">&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-10 ol-10" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="793"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bL793"></span></td>
					<td class="lines-num lines-num-new" data-line-num="819"><span rel="diff-deea6172e1db0410f090646cd6e8e74388aa737bR819"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">IPv6 subnet </span><span class="si">%s</span><span class="s1"> configured to receive RAs from an </span><span class="s1">&#39;</span></code></td>
				
			</tr>
			
		
	

	
		
			<tr class="tag-code nl-0 ol-0" data-line-type="tag">
				
					<td colspan="2" class="lines-num">
						
							<a role="button" class="blob-excerpt" data-url="/openstack/neutron/blob_excerpt/54aa6e81cb17b33ce4d5d469cc11dec2869c762d" data-query="last_left=793&amp;last_right=819&amp;left=1999&amp;right=2025&amp;left_hunk_size=0&amp;right_hunk_size=0&amp;path=neutron%2Fdb%2Fl3_db.py&style=unified&direction=down" data-anchor="diff-deea6172e1db0410f090646cd6e8e74388aa737bK2025">
								<svg viewBox="0 0 16 16" class="svg octicon-fold-down" width="16" height="16" aria-hidden="true"><path d="m8.177 14.323 2.896-2.896a.25.25 0 0 0-.177-.427H8.75V7.764a.75.75 0 1 0-1.5 0V11H5.104a.25.25 0 0 0-.177.427l2.896 2.896a.25.25 0 0 0 .354 0zM2.25 5a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5zM6 4.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5a.75.75 0 0 1 .75.75zM8.25 5a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5zM12 4.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5a.75.75 0 0 1 .75.75zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5z"/></svg>
							</a>
						
						
						
					</td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code blob-hunk"><code class="code-inner"><br></code></td>
				
			</tr>
			
		
	


								
							</table>
						
					</div>
					
				</div>
			</div>
		
			
			
			
			
			
			<div class="diff-file-box diff-box file-content tab-size-8 mt-3" id="diff-2">
				<h4 class="diff-file-header sticky-2nd-row ui top attached normal header df ac sb">
					<div class="df ac">
						<a role="button" class="fold-file muted mr-2">
							<svg viewBox="0 0 16 16" class="svg octicon-chevron-down" width="18" height="18" aria-hidden="true"><path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L3.22 7.28a.75.75 0 0 1 1.06-1.06L8 9.94l3.72-3.72a.75.75 0 0 1 1.06 0z"/></svg>
						</a>
						<div class="bold df ac">
							
								56
<span class="diff-stats-bar poping up mx-3" data-content="56 changes: 56 additions and 0 deletions" data-variation="wide">
	<div class="diff-stats-add-bar" style="width: 100.000000%"></div>
</span>

							
						</div>
						<span class="file mono">neutron/tests/unit/extensions/test_l3.py</span>
					</div>
					<div class="diff-file-header-actions df ac">
						
						
						
							
								<a class="ui basic tiny button" rel="nofollow" href="/openstack/neutron/src/commit/54aa6e81cb17b33ce4d5d469cc11dec2869c762d/neutron/tests/unit/extensions/test_l3.py">View File</a>
							
						
					</div>
				</h4>
				<div class="diff-file-body ui attached unstackable table segment">
					<div id="diff-source-1" class="file-body file-code code-diff code-diff-unified">
						
							<table class="chroma">
								
									

	
		
			<tr class="tag-code nl-0 ol-0" data-line-type="tag">
				
					<td colspan="2" class="lines-num">
						
						
							<a role="button" class="blob-excerpt" data-url="/openstack/neutron/blob_excerpt/54aa6e81cb17b33ce4d5d469cc11dec2869c762d" data-query="last_left=0&amp;last_right=0&amp;left=1265&amp;right=1265&amp;left_hunk_size=6&amp;right_hunk_size=62&amp;path=neutron%2Ftests%2Funit%2Fextensions%2Ftest_l3.py&style=unified&direction=up" data-anchor="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690K1265">
								<svg viewBox="0 0 16 16" class="svg octicon-fold-up" width="16" height="16" aria-hidden="true"><path d="M7.823 1.677 4.927 4.573A.25.25 0 0 0 5.104 5H7.25v3.236a.75.75 0 1 0 1.5 0V5h2.146a.25.25 0 0 0 .177-.427L8.177 1.677a.25.25 0 0 0-.354 0zM13.75 11a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5zm-3.75.75a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75zM7.75 11a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5zM4 11.75a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75zM1.75 11a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5z"/></svg>
							</a>
						
						
					</td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=""></span></td>
				
					<td class="chroma lines-code blob-hunk"><code class="code-inner">@ -1265,6 +1265,62 @@ class L3NatTestCaseBase(L3NatTestCaseMixin):</code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-1 ol-1" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="1265"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690L1265"></span></td>
					<td class="lines-num lines-num-new" data-line-num="1265"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1265"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                                                  <span class="n">expected_code</span><span class="o">=</span><span class="n">err_code</span><span class="p">,</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-2 ol-2" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="1266"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690L1266"></span></td>
					<td class="lines-num lines-num-new" data-line-num="1266"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1266"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                                                  <span class="n">tenant_id</span><span class="o">=</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">bad_tenant</span><span class="s1">&#39;</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-3 ol-3" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="1267"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690L1267"></span></td>
					<td class="lines-num lines-num-new" data-line-num="1267"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1267"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">
</code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-4 ol-4" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1268"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1268"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">    <span class="k">def</span> <span class="nf">test_router_add_interface_by_subnet_other_tenant_subnet_returns_400</span><span class="p">(</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-5 ol-5" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1269"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1269"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="bp">self</span><span class="p">)</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-6 ol-6" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1270"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1270"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">        <span class="n">router_tenant_id</span> <span class="o">=</span> <span class="n">_uuid</span><span class="p">(</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-7 ol-7" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1271"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1271"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">router</span><span class="p">(</span><span class="n">tenant_id</span><span class="o">=</span><span class="n">router_tenant_id</span><span class="p">,</span> <span class="n">set_context</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">r</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-8 ol-8" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1272"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1272"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="p">(</span><span class="n">shared</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">n</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-9 ol-9" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1273"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1273"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">subnet</span><span class="p">(</span><span class="n">network</span><span class="o">=</span><span class="n">n</span><span class="p">)</span> <span class="k">as</span> <span class="n">s</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-10 ol-10" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1274"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1274"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                    <span class="n">err_code</span> <span class="o">=</span> <span class="n">exc</span><span class="o">.</span><span class="n">HTTPBadRequest</span><span class="o">.</span><span class="n">code</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-11 ol-11" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1275"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1275"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                    <span class="bp">self</span><span class="o">.</span><span class="n">_router_interface_action</span><span class="p">(</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">add</span><span class="s1">&#39;</span><span class="p">,</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-12 ol-12" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1276"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1276"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                                                  <span class="n">r</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">router</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">id</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">,</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-13 ol-13" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1277"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1277"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                                                  <span class="n">s</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">subnet</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">id</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">,</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-14 ol-14" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1278"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1278"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                                                  <span class="kc">None</span><span class="p">,</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-15 ol-15" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1279"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1279"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                                                  <span class="n">expected_code</span><span class="o">=</span><span class="n">err_code</span><span class="p">,</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-16 ol-16" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1280"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1280"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                                                  <span class="n">tenant_id</span><span class="o">=</span><span class="n">router_tenant_id</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-17 ol-17" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1281"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1281"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">
</code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-18 ol-18" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1282"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1282"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">    <span class="k">def</span> <span class="nf">_test_router_add_interface_by_port_allocation_pool</span><span class="p">(</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-19 ol-19" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1283"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1283"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="bp">self</span><span class="p">,</span> <span class="n">out_of_pool</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">router_action_as_admin</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-20 ol-20" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1284"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1284"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="n">expected_code</span><span class="o">=</span><span class="n">exc</span><span class="o">.</span><span class="n">HTTPOk</span><span class="o">.</span><span class="n">code</span><span class="p">)</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-21 ol-21" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1285"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1285"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">        <span class="n">router_tenant_id</span> <span class="o">=</span> <span class="n">_uuid</span><span class="p">(</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-22 ol-22" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1286"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1286"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">router</span><span class="p">(</span><span class="n">tenant_id</span><span class="o">=</span><span class="n">router_tenant_id</span><span class="p">,</span> <span class="n">set_context</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">r</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-23 ol-23" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1287"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1287"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="p">(</span><span class="n">shared</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">n</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-24 ol-24" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1288"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1288"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">subnet</span><span class="p">(</span><span class="n">network</span><span class="o">=</span><span class="n">n</span><span class="p">)</span> <span class="k">as</span> <span class="n">s1</span><span class="p">,</span> <span class="p">(</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-25 ol-25" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1289"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1289"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                     <span class="bp">self</span><span class="o">.</span><span class="n">subnet</span><span class="p">(</span><span class="n">network</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">cidr</span><span class="o">=</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">fd00::/64</span><span class="s1">&#39;</span><span class="p">,</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-26 ol-26" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1290"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1290"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                                 <span class="n">ip_version</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span><span class="p">)</span> <span class="k">as</span> <span class="n">s2</span><span class="p">,</span> <span class="p">(</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-27 ol-27" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1291"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1291"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                     <span class="bp">self</span><span class="o">.</span><span class="n">subnet</span><span class="p">(</span><span class="n">network</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">cidr</span><span class="o">=</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">fd01::/64</span><span class="s1">&#39;</span><span class="p">,</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-28 ol-28" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1292"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1292"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                                 <span class="n">ip_version</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span><span class="p">)</span> <span class="k">as</span> <span class="n">s3</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-29 ol-29" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1293"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1293"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                    <span class="n">fixed_ips</span> <span class="o">=</span> <span class="p">[</span><span class="p">{</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">subnet_id</span><span class="s1">&#39;</span><span class="p">:</span> <span class="n">s1</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">subnet</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">id</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">}</span><span class="p">,</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-30 ol-30" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1294"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1294"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                                 <span class="p">{</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">subnet_id</span><span class="s1">&#39;</span><span class="p">:</span> <span class="n">s2</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">subnet</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">id</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">}</span><span class="p">,</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-31 ol-31" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1295"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1295"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                                 <span class="p">{</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">subnet_id</span><span class="s1">&#39;</span><span class="p">:</span> <span class="n">s3</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">subnet</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">id</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">}</span><span class="p">]</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-32 ol-32" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1296"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1296"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                    <span class="k">if</span> <span class="n">out_of_pool</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-33 ol-33" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1297"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1297"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                        <span class="n">fixed_ips</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">subnet_id</span><span class="s1">&#39;</span><span class="p">:</span> <span class="n">s2</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">subnet</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">id</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">,</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-34 ol-34" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1298"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1298"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                                        <span class="sa"></span><span class="s1">&#39;</span><span class="s1">ip_address</span><span class="s1">&#39;</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-35 ol-35" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1299"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1299"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                                            <span class="n">s2</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">subnet</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">gateway_ip</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">}</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-36 ol-36" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1300"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1300"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">(</span><span class="n">subnet</span><span class="o">=</span><span class="n">s1</span><span class="p">,</span> <span class="n">fixed_ips</span><span class="o">=</span><span class="n">fixed_ips</span><span class="p">,</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-37 ol-37" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1301"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1301"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                                   <span class="n">tenant_id</span><span class="o">=</span><span class="n">router_tenant_id</span><span class="p">,</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-38 ol-38" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1302"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1302"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                                   <span class="n">set_context</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">p</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-39 ol-39" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1303"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1303"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">expected_code</span><span class="s1">&#39;</span><span class="p">:</span> <span class="n">expected_code</span><span class="p">}</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-40 ol-40" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1304"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1304"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                        <span class="k">if</span> <span class="ow">not</span> <span class="n">router_action_as_admin</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-41 ol-41" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1305"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1305"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                            <span class="n">kwargs</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">tenant_id</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">router_tenant_id</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-42 ol-42" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1306"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1306"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                        <span class="bp">self</span><span class="o">.</span><span class="n">_router_interface_action</span><span class="p">(</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-43 ol-43" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1307"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1307"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                            <span class="sa"></span><span class="s1">&#39;</span><span class="s1">add</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">r</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">router</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">id</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">port</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">id</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">,</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-44 ol-44" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1308"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1308"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">                            <span class="o">*</span><span class="o">*</span><span class="n">kwargs</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-45 ol-45" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1309"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1309"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">
</code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-46 ol-46" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1310"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1310"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">    <span class="k">def</span> <span class="nf">test_router_add_interface_by_port_other_tenant_address_in_pool</span><span class="p">(</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-47 ol-47" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1311"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1311"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="bp">self</span><span class="p">)</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-48 ol-48" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1312"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1312"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">        <span class="bp">self</span><span class="o">.</span><span class="n">_test_router_add_interface_by_port_allocation_pool</span><span class="p">(</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-49 ol-49" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1313"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1313"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">
</code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-50 ol-50" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1314"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1314"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">    <span class="k">def</span> <span class="nf">test_router_add_interface_by_port_other_tenant_address_out_of_pool</span><span class="p">(</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-51 ol-51" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1315"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1315"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="bp">self</span><span class="p">)</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-52 ol-52" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1316"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1316"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">        <span class="bp">self</span><span class="o">.</span><span class="n">_test_router_add_interface_by_port_allocation_pool</span><span class="p">(</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-53 ol-53" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1317"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1317"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="n">out_of_pool</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">expected_code</span><span class="o">=</span><span class="n">exc</span><span class="o">.</span><span class="n">HTTPBadRequest</span><span class="o">.</span><span class="n">code</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-54 ol-54" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1318"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1318"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">
</code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-55 ol-55" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1319"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1319"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">    <span class="k">def</span> <span class="nf">test_router_add_interface_by_port_admin_address_out_of_pool</span><span class="p">(</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-56 ol-56" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1320"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1320"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="bp">self</span><span class="p">)</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-57 ol-57" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1321"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1321"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">        <span class="bp">self</span><span class="o">.</span><span class="n">_test_router_add_interface_by_port_allocation_pool</span><span class="p">(</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-58 ol-58" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1322"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1322"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">            <span class="n">out_of_pool</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">router_action_as_admin</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="add-code nl-59 ol-59" data-line-type="add">
				
					<td class="lines-num lines-num-old" data-line-num=""><span rel=""></span></td>
					<td class="lines-num lines-num-new" data-line-num="1323"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1323"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker="&#43;"></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">
</code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-60 ol-60" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="1268"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690L1268"></span></td>
					<td class="lines-num lines-num-new" data-line-num="1324"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1324"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">    <span class="k">def</span> <span class="nf">test_router_add_interface_subnet_with_port_from_other_tenant</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="p">:</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-61 ol-61" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="1269"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690L1269"></span></td>
					<td class="lines-num lines-num-new" data-line-num="1325"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1325"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">        <span class="n">tenant_id</span> <span class="o">=</span> <span class="n">_uuid</span><span class="p">(</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	
		
			<tr class="same-code nl-62 ol-62" data-line-type="same">
				
					<td class="lines-num lines-num-old" data-line-num="1270"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690L1270"></span></td>
					<td class="lines-num lines-num-new" data-line-num="1326"><span rel="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690R1326"></span></td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code"><code class="code-inner">        <span class="n">other_tenant_id</span> <span class="o">=</span> <span class="n">_uuid</span><span class="p">(</span><span class="p">)</span></code></td>
				
			</tr>
			
		
	

	
		
			<tr class="tag-code nl-0 ol-0" data-line-type="tag">
				
					<td colspan="2" class="lines-num">
						
							<a role="button" class="blob-excerpt" data-url="/openstack/neutron/blob_excerpt/54aa6e81cb17b33ce4d5d469cc11dec2869c762d" data-query="last_left=1270&amp;last_right=1326&amp;left=4313&amp;right=4369&amp;left_hunk_size=0&amp;right_hunk_size=0&amp;path=neutron%2Ftests%2Funit%2Fextensions%2Ftest_l3.py&style=unified&direction=down" data-anchor="diff-bc3a68e3a8c7d3712d6ba0edf4083b6739fc8690K4369">
								<svg viewBox="0 0 16 16" class="svg octicon-fold-down" width="16" height="16" aria-hidden="true"><path d="m8.177 14.323 2.896-2.896a.25.25 0 0 0-.177-.427H8.75V7.764a.75.75 0 1 0-1.5 0V11H5.104a.25.25 0 0 0-.177.427l2.896 2.896a.25.25 0 0 0 .354 0zM2.25 5a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5zM6 4.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5a.75.75 0 0 1 .75.75zM8.25 5a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5zM12 4.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5a.75.75 0 0 1 .75.75zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5z"/></svg>
							</a>
						
						
						
					</td>
				
				<td class="lines-type-marker"><span class="mono" data-type-marker=" "></span></td>
				
					<td class="chroma lines-code blob-hunk"><code class="code-inner"><br></code></td>
				
			</tr>
			
		
	


								
							</table>
						
					</div>
					
				</div>
			</div>
		

		

		
			<div class="hide" id="edit-content-form">
				<div class="ui comment form">
					<div class="ui top attached tabular menu">
						<a class="active write item">Write</a>
						<a class="preview item" data-url="https://opendev.org/api/v1/repos/openstack/neutron/markdown" data-context="/openstack/neutron">Preview</a>
					</div>
					<div class="ui bottom attached active write tab segment">
						<textarea class="review-textarea" tabindex="1" name="content"></textarea>
					</div>
					<div class="ui bottom attached tab preview segment markup">
					Loadingâ¦
					</div>
					<div class="text right edit buttons">
						<div class="ui basic blue cancel button" tabindex="3">Cancel</div>
						<div class="ui green save button" tabindex="2">Save</div>
					</div>
				</div>
			</div>
		

		<div class="ui small modal" id="reference-issue-modal">
	<div class="header">
		Reference in new issue
	</div>
	<div class="content" style="text-align:left">
		<form class="ui form" action="/openstack/neutron/issues/new" method="post">
			<input type="hidden" name="_csrf" value="s0aDCUCMGh_fhsNcDOzChyttPlU6MTYzNTU0MDA3NDYwMjg2MTY1Mw">
			<div class="ui segment content">
				<div class="field">
					<span class="text"><strong>Repository</strong></span>
					<div class="ui search normal selection dropdown issue_reference_repository_search">
						<div class="default text">openstack/neutron</div>
						<div class="menu"></div>
					</div>
				</div>
				<div class="field">
					<span class="text"><strong>Title</strong></span>
					<input name="title" value="" autofocus required maxlength="255" autocomplete="off">
				</div>
				<div class="field">
					<span class="text"><strong>Body</strong></span>
					<textarea name="content" class="form-control"></textarea>
				</div>
				<div class="text right">
					<button class="ui green button">Create Issue</button>
				</div>
			</div>
		</form>
	</div>
</div>

	</div>


	</div>
</div>


	

	</div>

	

	<footer>
	<div class="ui container">
		<div class="ui left">
			Powered by Gitea Version: v1.15.6 Page: <strong>3309ms</strong> Template: <strong>55ms</strong>
		</div>
		<div class="ui right links">
			
			<div class="ui language bottom floating slide up dropdown link item">
				<svg viewBox="0 0 16 16" class="svg octicon-globe" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.543 7.25h2.733c.144-2.074.866-3.756 1.58-4.948.12-.197.237-.381.353-.552a6.506 6.506 0 0 0-4.666 5.5zm2.733 1.5H1.543a6.506 6.506 0 0 0 4.666 5.5 11.13 11.13 0 0 1-.352-.552c-.715-1.192-1.437-2.874-1.581-4.948zm1.504 0h4.44a9.637 9.637 0 0 1-1.363 4.177c-.306.51-.612.919-.857 1.215a9.978 9.978 0 0 1-.857-1.215A9.637 9.637 0 0 1 5.78 8.75zm4.44-1.5H5.78a9.637 9.637 0 0 1 1.363-4.177c.306-.51.612-.919.857-1.215.245.296.55.705.857 1.215A9.638 9.638 0 0 1 10.22 7.25zm1.504 1.5c-.144 2.074-.866 3.756-1.58 4.948-.12.197-.237.381-.353.552a6.506 6.506 0 0 0 4.666-5.5h-2.733zm2.733-1.5h-2.733c-.144-2.074-.866-3.756-1.58-4.948a11.738 11.738 0 0 0-.353-.552 6.506 6.506 0 0 1 4.666 5.5zM8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0z"/></svg>
				<div class="text">English</div>
				<div class="menu language-menu">
					
						<a lang="en-US" data-url="/?lang=en-US" class="item active selected">English</a>
					
						<a lang="zh-CN" data-url="/?lang=zh-CN" class="item ">ç®ä½ä¸­æ</a>
					
						<a lang="zh-HK" data-url="/?lang=zh-HK" class="item ">ç¹é«ä¸­æï¼é¦æ¸¯ï¼</a>
					
						<a lang="zh-TW" data-url="/?lang=zh-TW" class="item ">ç¹é«ä¸­æï¼å°ç£ï¼</a>
					
						<a lang="de-DE" data-url="/?lang=de-DE" class="item ">Deutsch</a>
					
						<a lang="fr-FR" data-url="/?lang=fr-FR" class="item ">franÃ§ais</a>
					
						<a lang="nl-NL" data-url="/?lang=nl-NL" class="item ">Nederlands</a>
					
						<a lang="lv-LV" data-url="/?lang=lv-LV" class="item ">latvieÅ¡u</a>
					
						<a lang="ru-RU" data-url="/?lang=ru-RU" class="item ">ÑÑÑÑÐºÐ¸Ð¹</a>
					
						<a lang="uk-UA" data-url="/?lang=uk-UA" class="item ">Ð£ÐºÑÐ°ÑÐ½ÑÑÐºÐ°</a>
					
						<a lang="ja-JP" data-url="/?lang=ja-JP" class="item ">æ¥æ¬èª</a>
					
						<a lang="es-ES" data-url="/?lang=es-ES" class="item ">espaÃ±ol</a>
					
						<a lang="pt-BR" data-url="/?lang=pt-BR" class="item ">portuguÃªs do Brasil</a>
					
						<a lang="pt-PT" data-url="/?lang=pt-PT" class="item ">PortuguÃªs de Portugal</a>
					
						<a lang="pl-PL" data-url="/?lang=pl-PL" class="item ">polski</a>
					
						<a lang="bg-BG" data-url="/?lang=bg-BG" class="item ">Ð±ÑÐ»Ð³Ð°ÑÑÐºÐ¸</a>
					
						<a lang="it-IT" data-url="/?lang=it-IT" class="item ">italiano</a>
					
						<a lang="fi-FI" data-url="/?lang=fi-FI" class="item ">suomi</a>
					
						<a lang="tr-TR" data-url="/?lang=tr-TR" class="item ">TÃ¼rkÃ§e</a>
					
						<a lang="cs-CZ" data-url="/?lang=cs-CZ" class="item ">ÄeÅ¡tina</a>
					
						<a lang="sr-SP" data-url="/?lang=sr-SP" class="item ">ÑÑÐ¿ÑÐºÐ¸</a>
					
						<a lang="sv-SE" data-url="/?lang=sv-SE" class="item ">svenska</a>
					
						<a lang="ko-KR" data-url="/?lang=ko-KR" class="item ">íêµ­ì´</a>
					
				</div>
			</div>
			<a href="/assets/js/licenses.txt">Licenses</a>
			<a href="/api/swagger">API</a>
			<a target="_blank" rel="noopener noreferrer" href="https://gitea.io">Website</a>
			
			<span class="version">Go1.16.9</span>
		</div>
	</div>
</footer>


	<script src="/assets/js/easymde.js?v=edf53370e91fc06d8fdf43a9cf0d5529"></script>
	<script src="/assets/vendor/plugins/codemirror/addon/mode/loadmode.js"></script>
	<script src="/assets/vendor/plugins/codemirror/mode/meta.js"></script>
	<script>
		CodeMirror.modeURL = '\/assets/vendor/plugins/codemirror/mode/%N/%N.js';
	</script>





	<script src="/assets/js/index.js?v=edf53370e91fc06d8fdf43a9cf0d5529"></script>

</body>
</html>

