From 26707eaaa791648e6c7ad6aeaa27efd70e7c66eb Mon Sep 17 00:00:00 2001
From: Martin Gruner <martin.gruner@otrs.com>
Date: Thu, 7 Dec 2017 13:14:47 +0100
Subject: [PATCH] Improved parameter appending.

---
 Kernel/Output/HTML/LayoutTemplate.pm | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/Kernel/Output/HTML/LayoutTemplate.pm b/Kernel/Output/HTML/LayoutTemplate.pm
index 083e900b3df..87fc5f83b97 100644
--- a/Kernel/Output/HTML/LayoutTemplate.pm
+++ b/Kernel/Output/HTML/LayoutTemplate.pm
@@ -212,7 +212,7 @@ sub Output {
             my $Target  = $2;
             my $End     = $3;
             my $RealEnd = $4;
-            if ( lc $Target =~ /^(http:|https:|#|ftp:)/ ||
+            if ( lc($Target) =~ /^(http:|https:|#|ftp:)/ ||
                 $Target !~ /\.(pl|php|cgi|fcg|fcgi|fpl)(\?|$)/ ||
                 $Target =~ /(\?|&|;)\Q$Self->{SessionName}\E=/) {
                 $AHref.$Target.$End.$RealEnd;
@@ -230,7 +230,7 @@ sub Output {
             my $AHref = $1;
             my $Target = $2;
             my $End = $3;
-            if (lc $Target =~ m{^http s? :}smx || !$Self->{SessionID} ||
+            if (lc($Target) =~ m{^http s? :}smx || !$Self->{SessionID} ||
                 $Target !~ /\.(pl|php|cgi|fcg|fcgi|fpl)(\?|$)/ ||
                 $Target =~ /\Q$Self->{SessionName}\E=/) {
                 $AHref.$Target.$End;
