From c83d28e051bfc22fc8829e22c51054a9a9e93271 Mon Sep 17 00:00:00 2001
From: Wesley <tuzzmaniandevil@gmail.com>
Date: Tue, 29 Sep 2015 14:31:50 +1300
Subject: [PATCH] updated OAuth2 helper to not included spaces when generating
 the scope

---
 .../src/main/java/io/milton/http/http11/auth/OAuth2Helper.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/milton-server-ce/src/main/java/io/milton/http/http11/auth/OAuth2Helper.java b/milton-server-ce/src/main/java/io/milton/http/http11/auth/OAuth2Helper.java
index 8ff97b9c..6f417ad1 100644
--- a/milton-server-ce/src/main/java/io/milton/http/http11/auth/OAuth2Helper.java
+++ b/milton-server-ce/src/main/java/io/milton/http/http11/auth/OAuth2Helper.java
@@ -50,7 +50,7 @@ public static URL getOAuth2URL(OAuth2Provider provider) {
 
 		String oAuth2Location = provider.getAuthLocation();
 		String oAuth2ClientId = provider.getClientId();
-		String scopes = Utils.toCsv(provider.getPermissionScopes());
+		String scopes = Utils.toCsv(provider.getPermissionScopes(), false);
 		try {
 			OAuthClientRequest oAuthRequest = OAuthClientRequest
 					.authorizationLocation(oAuth2Location)
