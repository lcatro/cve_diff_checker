From c56b85408bab232efd7e650f0994272a174e3b92 Mon Sep 17 00:00:00 2001
From: Lei Zhang <leizleiz@users.noreply.github.com>
Date: Thu, 9 Jun 2016 23:30:26 -0700
Subject: [PATCH] Add a bounds check to ByteArray::Get().

---
 cpp/src/sfntly/data/byte_array.cc | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/cpp/src/sfntly/data/byte_array.cc b/cpp/src/sfntly/data/byte_array.cc
index 915a40c0..57f9eede 100644
--- a/cpp/src/sfntly/data/byte_array.cc
+++ b/cpp/src/sfntly/data/byte_array.cc
@@ -35,6 +35,8 @@ int32_t ByteArray::SetFilledLength(int32_t filled_length) {
 }
 
 int32_t ByteArray::Get(int32_t index) {
+  if (index < 0 || index >= Length())
+    return -1;
   return InternalGet(index) & 0xff;
 }
 
