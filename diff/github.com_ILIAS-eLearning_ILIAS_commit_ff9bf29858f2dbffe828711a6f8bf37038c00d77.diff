From ff9bf29858f2dbffe828711a6f8bf37038c00d77 Mon Sep 17 00:00:00 2001
From: Alexander Killing <killing@leifos.de>
Date: Fri, 11 May 2018 14:05:57 +0200
Subject: [PATCH] fixed 23026: link attribute

---
 Services/Feeds/classes/class.ilExternalFeedItem.php | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

diff --git a/Services/Feeds/classes/class.ilExternalFeedItem.php b/Services/Feeds/classes/class.ilExternalFeedItem.php
index 079ffbd43e93..aa3d7426fd6a 100644
--- a/Services/Feeds/classes/class.ilExternalFeedItem.php
+++ b/Services/Feeds/classes/class.ilExternalFeedItem.php
@@ -32,17 +32,16 @@ function setMagpieItem($a_item)
 		if (isset($a_item["link_"]))
 		{
 			$this->setLink(
-				ilUtil::secureLink($this->secureString($a_item["link_"])));
+				ilUtil::secureUrl(ilUtil::secureLink($this->secureString($a_item["link_"]))));
 		}
 		else
 		{
 			if (isset($a_item["link"]))
 			{
 				$this->setLink(
-					ilUtil::secureLink($this->secureString($a_item["link"])));
+					ilUtil::secureUrl(ilUtil::secureLink($this->secureString($a_item["link"]))));
 			}
 		}
-		
 		// summary
 		if (isset($a_item["atom_content"]))
 		{
