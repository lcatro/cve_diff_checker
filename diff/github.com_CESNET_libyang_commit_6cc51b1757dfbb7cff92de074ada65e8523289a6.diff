From 6cc51b1757dfbb7cff92de074ada65e8523289a6 Mon Sep 17 00:00:00 2001
From: Michal Vasko <mvasko@cesnet.cz>
Date: Fri, 26 Apr 2019 13:46:53 +0200
Subject: [PATCH] yang parser BUGFIX double free

Fixes #769
---
 src/parser_yang_bis.c | 1 +
 src/yang.y.in         | 1 +
 2 files changed, 2 insertions(+)

diff --git a/src/parser_yang_bis.c b/src/parser_yang_bis.c
index f410dbf66..3d164bed0 100644
--- a/src/parser_yang_bis.c
+++ b/src/parser_yang_bis.c
@@ -6980,6 +6980,7 @@ YYLTYPE yylloc = yyloc_default;
                                              YYABORT;
                                            }
                                            data_node = actual;
+                                           s = NULL;
                                            actual_type = NOTIFICATION_KEYWORD;
                                          }
 
diff --git a/src/yang.y.in b/src/yang.y.in
index d8afb862b..1b99f3730 100644
--- a/src/yang.y.in
+++ b/src/yang.y.in
@@ -3262,6 +3262,7 @@ notification_arg_str: identifier_arg_str { $$.token = actual_type;
                                              YYABORT;
                                            }
                                            data_node = actual;
+                                           s = NULL;
                                            actual_type = NOTIFICATION_KEYWORD;
                                          }
 
