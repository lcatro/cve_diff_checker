From 5e1c52c5e8a30ceb4e9572964da7ed89ddfb1aaf Mon Sep 17 00:00:00 2001
From: Johan Cwiklinski <jcwiklinski@teclib.com>
Date: Wed, 4 Mar 2020 12:29:03 +0100
Subject: [PATCH] Use correct content-type for autocompletion url

---
 ajax/autocompletion.php      | 2 +-
 ajax/getDropdownConnect.php  | 2 +-
 ajax/getDropdownFindNum.php  | 2 +-
 ajax/getDropdownNetpoint.php | 2 +-
 ajax/getDropdownNumber.php   | 2 +-
 ajax/getDropdownUsers.php    | 2 +-
 ajax/getDropdownValue.php    | 2 +-
 7 files changed, 7 insertions(+), 7 deletions(-)

diff --git a/ajax/autocompletion.php b/ajax/autocompletion.php
index bc0108d66f9..dc6843ade1d 100644
--- a/ajax/autocompletion.php
+++ b/ajax/autocompletion.php
@@ -35,7 +35,7 @@
    $AJAX_INCLUDE = 1;
 }
 include ('../inc/includes.php');
-header("Content-Type: text/html; charset=UTF-8");
+header("Content-Type: application/json; charset=UTF-8");
 Html::header_nocache();
 
 Session::checkLoginUser();
diff --git a/ajax/getDropdownConnect.php b/ajax/getDropdownConnect.php
index ce4662f7b47..d0a2113fcef 100644
--- a/ajax/getDropdownConnect.php
+++ b/ajax/getDropdownConnect.php
@@ -36,7 +36,7 @@
 
 if (strpos($_SERVER['PHP_SELF'], "getDropdownConnect.php")) {
    include ('../inc/includes.php');
-   header("Content-Type: text/html; charset=UTF-8");
+   header("Content-Type: application/json; charset=UTF-8");
    Html::header_nocache();
 } else if (!defined('GLPI_ROOT')) {
    die("Sorry. You can't access this file directly");
diff --git a/ajax/getDropdownFindNum.php b/ajax/getDropdownFindNum.php
index f3b1d0814e7..cf3612f942f 100644
--- a/ajax/getDropdownFindNum.php
+++ b/ajax/getDropdownFindNum.php
@@ -37,7 +37,7 @@
 
 include ('../inc/includes.php');
 
-header("Content-Type: text/html; charset=UTF-8");
+header("Content-Type: application/json; charset=UTF-8");
 Html::header_nocache();
 
 Session::checkLoginUser();
diff --git a/ajax/getDropdownNetpoint.php b/ajax/getDropdownNetpoint.php
index 8f2e1edbc68..50a54bfb544 100644
--- a/ajax/getDropdownNetpoint.php
+++ b/ajax/getDropdownNetpoint.php
@@ -38,7 +38,7 @@
 if (strpos($_SERVER['PHP_SELF'], "getDropdownNetpoint.php")) {
    $AJAX_INCLUDE = 1;
    include ('../inc/includes.php');
-   header("Content-Type: text/html; charset=UTF-8");
+   header("Content-Type: application/json; charset=UTF-8");
    Html::header_nocache();
 } else if (!defined('GLPI_ROOT')) {
    die("Sorry. You can't access this file directly");
diff --git a/ajax/getDropdownNumber.php b/ajax/getDropdownNumber.php
index 3674eb297b1..7470d1a597f 100644
--- a/ajax/getDropdownNumber.php
+++ b/ajax/getDropdownNumber.php
@@ -37,7 +37,7 @@
 // Direct access to file
 if (strpos($_SERVER['PHP_SELF'], "getDropdownNumber.php")) {
    include ('../inc/includes.php');
-   header("Content-Type: text/html; charset=UTF-8");
+   header("Content-Type: application/json; charset=UTF-8");
    Html::header_nocache();
 } else if (!defined('GLPI_ROOT')) {
    die("Sorry. You can't access this file directly");
diff --git a/ajax/getDropdownUsers.php b/ajax/getDropdownUsers.php
index 9947877ebef..a3cee006750 100644
--- a/ajax/getDropdownUsers.php
+++ b/ajax/getDropdownUsers.php
@@ -38,7 +38,7 @@
 if (strpos($_SERVER['PHP_SELF'], "getDropdownUsers.php")) {
    $AJAX_INCLUDE = 1;
    include ('../inc/includes.php');
-   header("Content-Type: text/html; charset=UTF-8");
+   header("Content-Type: application/json; charset=UTF-8");
    Html::header_nocache();
 } else if (!defined('GLPI_ROOT')) {
    die("Sorry. You can't access this file directly");
diff --git a/ajax/getDropdownValue.php b/ajax/getDropdownValue.php
index 17bfd648ff6..09b39432076 100644
--- a/ajax/getDropdownValue.php
+++ b/ajax/getDropdownValue.php
@@ -37,7 +37,7 @@
 // Direct access to file
 if (strpos($_SERVER['PHP_SELF'], "getDropdownValue.php")) {
    include ('../inc/includes.php');
-   header("Content-Type: text/html; charset=UTF-8");
+   header("Content-Type: application/json; charset=UTF-8");
    Html::header_nocache();
 } else if (!defined('GLPI_ROOT')) {
    die("Sorry. You can't access this file directly");
