From ffe24c3dd93efc73e0cbf924db9a0cc40be9511b Mon Sep 17 00:00:00 2001
From: thomas <thomas@chauchefoin.fr>
Date: Fri, 6 Apr 2018 22:21:33 +0200
Subject: [PATCH] Update webaccess.js

---
 src/node/hooks/express/webaccess.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/node/hooks/express/webaccess.js b/src/node/hooks/express/webaccess.js
index 1faceec7c20..2947503742b 100644
--- a/src/node/hooks/express/webaccess.js
+++ b/src/node/hooks/express/webaccess.js
@@ -20,7 +20,7 @@ exports.basicAuth = function (req, res, next) {
     // Do not require auth for static paths and the API...this could be a bit brittle
     if (req.path.match(/^\/(static|javascripts|pluginfw|api)/)) return cb(true);
 
-    if (req.path.indexOf('/admin') != 0) {
+    if (req.path.toLowerCase().indexOf('/admin') != 0) {
       if (!settings.requireAuthentication) return cb(true);
       if (!settings.requireAuthorization && req.session && req.session.user) return cb(true);
     }
