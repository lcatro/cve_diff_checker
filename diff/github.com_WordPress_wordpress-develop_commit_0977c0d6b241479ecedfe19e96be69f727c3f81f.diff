From 0977c0d6b241479ecedfe19e96be69f727c3f81f Mon Sep 17 00:00:00 2001
From: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date: Wed, 10 Jun 2020 17:43:34 +0000
Subject: [PATCH] Editor: Prevent HTML decoding on by setting the proper editor
 context.

Merges [47948] to the 5.4 branch.
Props: sstoqnov.

git-svn-id: https://develop.svn.wordpress.org/branches/5.4@47954 602fd350-edb4-49c9-b593-d223f7449a82
---
 src/wp-admin/includes/media.php | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/wp-admin/includes/media.php b/src/wp-admin/includes/media.php
index eba2c8b8dbb..f6a785e51d5 100644
--- a/src/wp-admin/includes/media.php
+++ b/src/wp-admin/includes/media.php
@@ -3231,7 +3231,7 @@ function edit_form_image_editor( $post ) {
 
 	?>
 	</label>
-	<?php wp_editor( $post->post_content, 'attachment_content', $editor_args ); ?>
+	<?php wp_editor( format_to_edit( $post->post_content ), 'attachment_content', $editor_args ); ?>
 
 	</div>
 	<?php
