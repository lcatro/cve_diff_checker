From d0a4de39cf05dce6af71f8ca039132bdfcbb0dce Mon Sep 17 00:00:00 2001
From: Bernhard Rusch <bernhard.rusch@elements.at>
Date: Wed, 1 Sep 2021 22:13:22 +0200
Subject: [PATCH] [Login] Lost password service - do not display any error
 messages

---
 bundles/AdminBundle/Controller/Admin/LoginController.php  | 1 -
 .../Resources/views/Admin/Login/lostpassword.html.twig    | 8 +-------
 2 files changed, 1 insertion(+), 8 deletions(-)

diff --git a/bundles/AdminBundle/Controller/Admin/LoginController.php b/bundles/AdminBundle/Controller/Admin/LoginController.php
index 543b4bb67b8..9649214910b 100644
--- a/bundles/AdminBundle/Controller/Admin/LoginController.php
+++ b/bundles/AdminBundle/Controller/Admin/LoginController.php
@@ -225,7 +225,6 @@ public function lostpasswordAction(Request $request, BruteforceProtectionHandler
             if ($error) {
                 Logger::error('Lost password service: ' . $error);
                 $bruteforceProtectionHandler->addEntry($request->get('username'), $request);
-                $params['error'] = $error;
             }
         }
 
diff --git a/bundles/AdminBundle/Resources/views/Admin/Login/lostpassword.html.twig b/bundles/AdminBundle/Resources/views/Admin/Login/lostpassword.html.twig
index fe3dd0e7847..797dfd7ee10 100644
--- a/bundles/AdminBundle/Resources/views/Admin/Login/lostpassword.html.twig
+++ b/bundles/AdminBundle/Resources/views/Admin/Login/lostpassword.html.twig
@@ -2,13 +2,7 @@
 
 {% block content %}
 
-    {% if error is defined %}
-        <div class="text error">
-            {{ error|trans([],'admin')|raw }}
-        </div>
-    {% endif %}
-
-    {% if error is not defined and (app.request.method == 'POST') %}
+    {% if app.request.method == 'POST' %}
         <div class="text error">
             {{ 'A temporary login link has been sent to your email address.'|trans([],'admin') }}
             <br/>
