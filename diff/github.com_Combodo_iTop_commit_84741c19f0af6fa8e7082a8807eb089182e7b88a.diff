From e441e5e78aabe682ed32f9372be8267979efbd16 Mon Sep 17 00:00:00 2001
From: Eric <eric.espie@combodo.com>
Date: Thu, 27 May 2021 11:49:32 +0200
Subject: [PATCH 1/3] documentation

---
 setup/setuputils.class.inc.php | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/setup/setuputils.class.inc.php b/setup/setuputils.class.inc.php
index 9ba7c82ea..280b5eb1b 100644
--- a/setup/setuputils.class.inc.php
+++ b/setup/setuputils.class.inc.php
@@ -1831,6 +1831,7 @@ static public function GetSetupQueriesFilePath()
 	 * Create and store Setup authentication token
 	 *
 	 * @return string token
+	 * @since 2.6.5 2.7.5 3.0.0 N째3952
 	 */
 	public final static function CreateSetupToken()
 	{
@@ -1854,6 +1855,7 @@ public final static function CreateSetupToken()
 	 * @param bool $bRemoveToken
 	 *
 	 * @throws \SecurityException
+	 * @since 2.6.5 2.7.5 3.0.0 N째3952
 	 */
 	public final static function CheckSetupToken($bRemoveToken = false)
 	{
@@ -1873,6 +1875,7 @@ public final static function CheckSetupToken($bRemoveToken = false)
 	 * Check setup transaction and create a new one if necessary
 	 *
 	 * @return bool
+	 * @since 2.6.5 2.7.5 3.0.0 N째3952
 	 */
 	public static function IsSessionSetupTokenValid()
 	{
@@ -1887,6 +1890,9 @@ public static function IsSessionSetupTokenValid()
 		return false;
 	}
 
+	/**
+	 * @since 2.6.5 2.7.5 3.0.0 N째3952
+	 */
 	public static function EraseSetupToken()
 	{
 		$sTokenFile = APPROOT.'data/setup/authent';

From 4f5c987d8b1bd12814dc606ea69b6cfb88490704 Mon Sep 17 00:00:00 2001
From: Eric <eric.espie@combodo.com>
Date: Thu, 27 May 2021 15:57:04 +0200
Subject: [PATCH 2/3] =?UTF-8?q?N=C2=B04002=20-=20code=20hardening?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

---
 pages/run_query.php | 1 -
 1 file changed, 1 deletion(-)

diff --git a/pages/run_query.php b/pages/run_query.php
index 2d9288c34..c6bc61648 100644
--- a/pages/run_query.php
+++ b/pages/run_query.php
@@ -113,7 +113,6 @@ function ShowExamples($oP, $sExpression)
 	{
 		// Translate $sExpression into a oql expression
 		$sClearText = base64_decode($sExpression);
-		echo "<strong>FYI: '$sClearText'</strong><br/>\n";
 		$oFilter = DBObjectSearch::unserialize($sExpression);
 		$sExpression = $oFilter->ToOQL();
 	}

From 86f649affc12b5078efc86d9439d67d98f4cb2f6 Mon Sep 17 00:00:00 2001
From: Eric <eric.espie@combodo.com>
Date: Thu, 27 May 2021 16:13:27 +0200
Subject: [PATCH 3/3] =?UTF-8?q?N=C2=B04002=20-=20code=20hardening?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

---
 pages/run_query.php | 1 -
 1 file changed, 1 deletion(-)

diff --git a/pages/run_query.php b/pages/run_query.php
index c6bc61648..b3bfa2161 100644
--- a/pages/run_query.php
+++ b/pages/run_query.php
@@ -112,7 +112,6 @@ function ShowExamples($oP, $sExpression)
 	if ($sEncoding == 'crypted')
 	{
 		// Translate $sExpression into a oql expression
-		$sClearText = base64_decode($sExpression);
 		$oFilter = DBObjectSearch::unserialize($sExpression);
 		$sExpression = $oFilter->ToOQL();
 	}
