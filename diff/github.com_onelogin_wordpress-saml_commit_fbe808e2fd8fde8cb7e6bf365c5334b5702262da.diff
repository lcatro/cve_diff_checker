From fbe808e2fd8fde8cb7e6bf365c5334b5702262da Mon Sep 17 00:00:00 2001
From: Sixto Martin <pitbulk@gmail.com>
Date: Wed, 20 Jan 2016 20:27:13 +0100
Subject: [PATCH] Generate random password for provisioned users

---
 onelogin-saml-sso/php/functions.php | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/onelogin-saml-sso/php/functions.php b/onelogin-saml-sso/php/functions.php
index 1470cd0..7e54bda 100644
--- a/onelogin-saml-sso/php/functions.php
+++ b/onelogin-saml-sso/php/functions.php
@@ -274,7 +274,7 @@ function saml_acs() {
 			echo __("The username provided by the IdP"). ' "'. $username. '" '. __("is not valid and can't create the user at wordpress");
 			exit();
 		}
-		$userdata['user_pass'] = '@@@nopass@@@';
+		$userdata['user_pass'] = wp_generate_password();
 		$user_id = wp_insert_user($userdata);
 	} else {
 		echo __("User provided by the IdP "). ' "'. $matcherValue. '" '. __("does not exist in wordpress and auto-provisioning is disabled.");
