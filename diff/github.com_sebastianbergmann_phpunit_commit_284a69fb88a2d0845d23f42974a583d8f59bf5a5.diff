From 284a69fb88a2d0845d23f42974a583d8f59bf5a5 Mon Sep 17 00:00:00 2001
From: Bob Weinand <bobwei9@hotmail.com>
Date: Sun, 13 Nov 2016 18:52:50 +0100
Subject: [PATCH] Correct fix for #1956

---
 src/Util/PHP/Template/TestCaseMethod.tpl.dist | 2 +-
 src/Util/PHP/eval-stdin.php                   | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/Util/PHP/Template/TestCaseMethod.tpl.dist b/src/Util/PHP/Template/TestCaseMethod.tpl.dist
index c1d14ddc0a8..b48f354cd28 100644
--- a/src/Util/PHP/Template/TestCaseMethod.tpl.dist
+++ b/src/Util/PHP/Template/TestCaseMethod.tpl.dist
@@ -55,7 +55,7 @@ function __phpunit_run_isolated_test()
         $output = $test->getActualOutput();
     }
 
-    rewind(STDOUT);
+    @rewind(STDOUT); /* @ as not every STDOUT target stream is rewindable */
     if ($stdout = stream_get_contents(STDOUT)) {
         $output = $stdout . $output;
     }
diff --git a/src/Util/PHP/eval-stdin.php b/src/Util/PHP/eval-stdin.php
index fe1b8bd38d2..3b3a6d03c4d 100644
--- a/src/Util/PHP/eval-stdin.php
+++ b/src/Util/PHP/eval-stdin.php
@@ -1,3 +1,3 @@
 <?php
 
-eval('?>' . file_get_contents('php://input'));
+eval('?>' . file_get_contents('php://stdin'));
