From 8ee85a8f03c143fa2420e7d6f311d95cae3b19ce Mon Sep 17 00:00:00 2001
From: Brandon Kelly <brandon@pixelandtonic.com>
Date: Fri, 22 Jan 2021 16:27:34 -0800
Subject: [PATCH] Stop allowing .htm + .html by default

---
 CHANGELOG-v3.6.md            | 3 +++
 CHANGELOG.md                 | 3 +++
 src/config/GeneralConfig.php | 2 --
 3 files changed, 6 insertions(+), 2 deletions(-)

diff --git a/CHANGELOG-v3.6.md b/CHANGELOG-v3.6.md
index 3734af06a0..06d3055981 100644
--- a/CHANGELOG-v3.6.md
+++ b/CHANGELOG-v3.6.md
@@ -219,3 +219,6 @@
 - Fixed a bug where generated URLs would include the token from the current request, even if it had expired or met its usage limit.
 - Fixed a bug where Number field settings and input values could be stored incorrectly if the user’s formatting locale used a different decimal character that the application language.
 - Fixed a MySQL deadlock error that could occur when running background jobs. ([#7179](https://github.com/craftcms/cms/issues/7179))
+
+### Security
+- The default `allowedFileExtensions` config setting value no longer includes `htm` or `html`.
diff --git a/CHANGELOG.md b/CHANGELOG.md
index e8eea8f8ab..f997c81a06 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -11,6 +11,9 @@
 ### Fixed
 - Fixed a bug where D3-formatted numbers were getting extra `.00`s added to them if the Intl extension wasn’t installed. ([#7402](https://github.com/craftcms/cms/issues/7402))
 
+### Security
+- The default `allowedFileExtensions` config setting value no longer includes `htm` or `html`.
+
 ## 3.6.0-RC4 - 2020-01-19
 
 ### Added
diff --git a/src/config/GeneralConfig.php b/src/config/GeneralConfig.php
index e64252e87d..65e65f6ec8 100644
--- a/src/config/GeneralConfig.php
+++ b/src/config/GeneralConfig.php
@@ -133,8 +133,6 @@ class GeneralConfig extends BaseObject
         'gif',
         'gz',
         'gzip',
-        'htm',
-        'html',
         'itt',
         'jp2',
         'jpeg',
